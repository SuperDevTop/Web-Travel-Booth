(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{119:function(e,t,s){},135:function(e,t,s){},149:function(e,t,s){},188:function(e,t,s){},190:function(e,t,s){},202:function(e){e.exports=JSON.parse('{"v":"5.5.2","fr":60,"ip":0,"op":104,"w":84,"h":40,"nm":"Typing-Indicator","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"Oval 3","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.643],"y":[1]},"o":{"x":[1],"y":[0]},"t":18,"s":[35],"e":[100]},{"i":{"x":[0.099],"y":[1]},"o":{"x":[0.129],"y":[0]},"t":33,"s":[100],"e":[35]},{"i":{"x":[0.833],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":65,"s":[35],"e":[35]},{"t":71}],"ix":11,"x":"var $bm_rt;\\n$bm_rt = loopOut(\'cycle\', 0);"},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[61,20,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[1,1,0.333],"y":[0,0,0]},"t":18,"s":[100,100,100],"e":[140,140,100]},{"i":{"x":[0.032,0.032,0.667],"y":[1,1,1]},"o":{"x":[0.217,0.217,0.333],"y":[0,0,0]},"t":33,"s":[140,140,100],"e":[100,100,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":65,"s":[100,100,100],"e":[100,100,100]},{"t":71}],"ix":6,"x":"var $bm_rt;\\n$bm_rt = loopOut(\'cycle\', 0);"}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[12,12],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[0.847000002861,0.847000002861,0.847000002861,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Oval 3","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":3600,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"Oval 2","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[1],"y":[0]},"t":9,"s":[35],"e":[98]},{"i":{"x":[0.023],"y":[1]},"o":{"x":[0.179],"y":[0]},"t":24,"s":[98],"e":[35]},{"i":{"x":[0.833],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":56,"s":[35],"e":[35]},{"t":62}],"ix":11,"x":"var $bm_rt;\\n$bm_rt = loopOut(\'cycle\', 0);"},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[41,20,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.654,0.654,0.667],"y":[1,1,1]},"o":{"x":[1,1,0.333],"y":[0,0,0]},"t":9,"s":[100,100,100],"e":[140,140,100]},{"i":{"x":[0.11,0.11,0.667],"y":[1,1,1]},"o":{"x":[0.205,0.205,0.333],"y":[0,0,0]},"t":24,"s":[140,140,100],"e":[100,100,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":56,"s":[100,100,100],"e":[100,100,100]},{"t":62}],"ix":6,"x":"var $bm_rt;\\n$bm_rt = loopOut(\'cycle\', 0);"}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[12,12],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[0.847000002861,0.847000002861,0.847000002861,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Oval 2","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":3600,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"Oval 1","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[1],"y":[0]},"t":0,"s":[35],"e":[100]},{"i":{"x":[0.067],"y":[1]},"o":{"x":[0.125],"y":[0]},"t":15,"s":[100],"e":[35]},{"i":{"x":[0.833],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":47,"s":[35],"e":[35]},{"t":53}],"ix":11,"x":"var $bm_rt;\\n$bm_rt = loopOut(\'cycle\', 0);"},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[21,20,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.673,0.673,0.667],"y":[1,1,1]},"o":{"x":[1,1,0.333],"y":[0,0,0]},"t":0,"s":[100,100,100],"e":[140,140,100]},{"i":{"x":[0.049,0.049,0.667],"y":[1,1,1]},"o":{"x":[0.198,0.198,0.333],"y":[0,0,0]},"t":15,"s":[140,140,100],"e":[100,100,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":47,"s":[100,100,100],"e":[100,100,100]},{"t":53}],"ix":6,"x":"var $bm_rt;\\n$bm_rt = loopOut(\'cycle\', 0);"}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[12,12],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[0.847000002861,0.847000002861,0.847000002861,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Oval 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":3600,"st":0,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"BG","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[42,20,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-42,-20],[42,-20],[42,20],[-42,20]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"rd","nm":"Round Corners 1","r":{"a":0,"k":20,"ix":1},"ix":2,"mn":"ADBE Vector Filter - RC","hd":false},{"ty":"fl","c":{"a":0,"k":[0.96078401804,0.96078401804,0.96078401804,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"BG","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":3600,"st":0,"bm":0}],"markers":[]}')},228:function(e,t,s){},229:function(e,t,s){},230:function(e,t,s){},324:function(e,t,s){},325:function(e,t,s){},326:function(e,t,s){},329:function(e,t,s){},330:function(e,t,s){},331:function(e,t,s){},332:function(e,t,s){},333:function(e,t,s){},334:function(e,t,s){"use strict";s.r(t);var a=s(1),c=s.n(a),i=s(50),n=s.n(i),l=(s(228),s(229),s(149),s(230),s(358)),r=s(359),o=s(360),d=s(361),j=s(394),m=s(209),b=s(95),h=s(353),x=s(393),p=s(354),u=s(355),O=s(392),g=s(4),f=s.n(g),y=s(384),S=s(357),N=s(16),v=s(0);const k=Object(a.createContext)(),E=()=>Object(a.useContext)(k);var w=e=>{let{children:t}=e;const[s,c]=Object(a.useState)(),[i,n]=Object(a.useState)(),[l,r]=Object(a.useState)([]),[o,d]=Object(a.useState)(),j=Object(N.useHistory)();return Object(a.useEffect)((()=>{const e=JSON.parse(localStorage.getItem("userInfo"));n(e),e||j.push("/")}),[j]),Object(v.jsx)(k.Provider,{value:{selectedChat:s,setSelectedChat:c,user:i,setUser:n,notification:l,setNotification:r,chats:o,setChats:d},children:t})};var C=()=>{const[e,t]=Object(a.useState)(!1),s=Object(y.a)(),[c,i]=Object(a.useState)(""),[n,l]=Object(a.useState)(""),[r,o]=Object(a.useState)(),[d,j]=Object(a.useState)(!1),[g,k]=Object(a.useState)(!1),[w,C]=Object(a.useState)(""),[J,A]=Object(a.useState)(""),I=Object(N.useHistory)(),{setUser:B}=E();console.log(n);return Object(v.jsx)(O.b,{spacing:"10px",children:!1===g?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(b.a,{id:"email",isRequired:!0,children:[Object(v.jsx)(h.a,{children:"Email Address"}),Object(v.jsx)(x.a,{value:c,type:"email",placeholder:"Enter Your Email Address",onChange:e=>i(e.target.value)})]}),Object(v.jsxs)(b.a,{id:"password",isRequired:!0,children:[Object(v.jsx)(h.a,{children:"Password"}),Object(v.jsxs)(p.a,{size:"md",children:[Object(v.jsx)(x.a,{value:r,onChange:e=>o(e.target.value),type:e?"text":"password",placeholder:"Enter password"}),Object(v.jsx)(u.a,{width:"4.5rem",children:Object(v.jsx)(m.a,{h:"1.75rem",size:"sm",onClick:()=>t(!e),children:e?"Hide":"Show"})})]})]}),Object(v.jsx)(m.a,{colorScheme:"blue",width:"100%",style:{marginTop:15},onClick:async()=>{if(j(!0),!c||!r)return s({title:"Please Fill all the Feilds",status:"warning",duration:5e3,isClosable:!0,position:"bottom"}),void j(!1);try{const e={headers:{"Content-type":"application/json"}},{data:t}=await f.a.post("/api/user/login",{email:c,password:r},e);s({title:"Login Successful",status:"success",duration:5e3,isClosable:!0,position:"bottom"}),B(t),localStorage.setItem("userInfo",JSON.stringify(t)),j(!1),!0===t.isAdmin?I.push("/admin/dashboard"):I.push("/capture")}catch(J){s({title:"Error Occured!",description:J.response.data.message,status:"error",duration:5e3,isClosable:!0,position:"bottom"}),j(!1)}},isLoading:d,children:"Login"}),Object(v.jsx)(S.a,{onClick:()=>k(!g),children:"Forget Password"})]}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(b.a,{id:"emailer",isRequired:!0,children:[Object(v.jsx)(h.a,{children:"Email Address"}),Object(v.jsx)(x.a,{value:n,type:"email",placeholder:"Enter Your Email Address",onChange:e=>l(e.target.value)})]}),Object(v.jsx)(m.a,{colorScheme:"blue",width:"100%",style:{marginTop:15},onClick:async e=>{e.preventDefault();try{j(!0),C(""),A("");const e=await f.a.post("api/user/forgotPassword",{email:n});console.log("res",e),C(e.data.message),console.log(e.data.message),s({title:"Success",description:e.data.message,status:"success",duration:5e3,isClosable:!0,position:"bottom"})}catch(J){A(J.response.data.error),console.log("err",J),console.log(J.response.data.message),s({title:"Error Occured!",description:J.response.data.message,status:"error",isClosable:!0,position:"bottom"})}finally{j(!1)}},isLoading:d,children:"Reset"}),Object(v.jsx)(S.a,{onClick:()=>k(!g),children:"Back To Login"})]})})};var J=()=>{const[e,t]=Object(a.useState)(!1),s=()=>t(!e),c=Object(y.a)(),i=Object(N.useHistory)(),[n,l]=Object(a.useState)(),[r,o]=Object(a.useState)(),[d,j]=Object(a.useState)(),[g,S]=Object(a.useState)(),[k,E]=Object(a.useState)(),[w,C]=Object(a.useState)(),[J,A]=Object(a.useState)(),[I,B]=Object(a.useState)("/images/avatar.png"),[P,F]=Object(a.useState)(!1);return Object(v.jsxs)(O.b,{spacing:"5px",children:[Object(v.jsxs)(b.a,{id:"first-name",isRequired:!0,children:[Object(v.jsx)(h.a,{children:"Name"}),Object(v.jsx)(x.a,{placeholder:"Enter Your Name",onChange:e=>l(e.target.value)})]}),Object(v.jsxs)(b.a,{id:"firstname",isRequired:!0,children:[Object(v.jsx)(h.a,{children:"FirstName"}),Object(v.jsx)(x.a,{placeholder:"Enter Your First Name",onChange:e=>o(e.target.value)})]}),Object(v.jsxs)(b.a,{id:"lastname",isRequired:!0,children:[Object(v.jsx)(h.a,{children:"LastName"}),Object(v.jsx)(x.a,{placeholder:"Enter Your Name",onChange:e=>j(e.target.value)})]}),Object(v.jsxs)(b.a,{id:"email",isRequired:!0,children:[Object(v.jsx)(h.a,{children:"Email Address"}),Object(v.jsx)(x.a,{type:"email",placeholder:"Enter Your Email Address",onChange:e=>S(e.target.value)})]}),Object(v.jsxs)(b.a,{id:"phone",isRequired:!0,children:[Object(v.jsx)(h.a,{children:"PhoneNumber"}),Object(v.jsx)(x.a,{type:"text",placeholder:"Enter Your PhoneNumber",onChange:e=>A(e.target.value)})]}),Object(v.jsxs)(b.a,{id:"password",isRequired:!0,children:[Object(v.jsx)(h.a,{children:"Password"}),Object(v.jsxs)(p.a,{size:"md",children:[Object(v.jsx)(x.a,{type:e?"text":"password",placeholder:"Enter Password",onChange:e=>C(e.target.value)}),Object(v.jsx)(u.a,{width:"4.5rem",children:Object(v.jsx)(m.a,{h:"1.75rem",size:"sm",onClick:s,children:e?"Hide":"Show"})})]})]}),Object(v.jsxs)(b.a,{id:"password1",isRequired:!0,children:[Object(v.jsx)(h.a,{children:"Confirm Password"}),Object(v.jsxs)(p.a,{size:"md",children:[Object(v.jsx)(x.a,{type:e?"text":"password",placeholder:"Confirm password",onChange:e=>E(e.target.value)}),Object(v.jsx)(u.a,{width:"4.5rem",children:Object(v.jsx)(m.a,{h:"1.75rem",size:"sm",onClick:s,children:e?"Hide":"Show"})})]})]}),Object(v.jsxs)(b.a,{id:"pic",children:[Object(v.jsx)(h.a,{children:"Upload your Picture"}),Object(v.jsx)(x.a,{type:"file",p:1.5,onChange:e=>(async e=>{if(F(!0),void 0!==e){if(console.log("pics",e),"image/jpeg"!==e.type&&"image/png"!==e.type)return c({title:"Please Select an Image!",status:"warning",duration:5e3,isClosable:!0,position:"bottom"}),void F(!1);{const t=new FormData;t.append("image",e);const s=await f()({method:"post",url:"/api/upload",data:t,headers:{"Content-Type":"multipart/form-data"}});B(s.data.image),F(!1),console.log("sucessPic",I)}}else c({title:"Please Select an Image!",status:"warning",duration:5e3,isClosable:!0,position:"bottom"})})(e.target.files[0])})]}),Object(v.jsx)(m.a,{colorScheme:"blue",width:"100%",style:{marginTop:15},onClick:async()=>{if(F(!0),!n||!g||!r||!d||!w||!k||!J)return c({title:"Please Fill all the Feilds",status:"warning",duration:5e3,isClosable:!0,position:"bottom"}),void F(!1);if(w===k)try{const e={headers:{"Content-type":"application/json"}},{data:t}=await f.a.post("/api/user",{name:n,firstname:r,lastname:d,email:g,password:w,phone:J,pic:I},e);console.log(t),c({title:"Registration Successful",status:"success",duration:5e3,isClosable:!0,position:"bottom"}),localStorage.setItem("userInfo",JSON.stringify(t)),F(!1),i.push("/capture")}catch(e){c({title:"Error Occured!",description:e.response.data.message,status:"error",duration:5e3,isClosable:!0,position:"bottom"}),F(!1)}else c({title:"Passwords Do Not Match",status:"warning",duration:5e3,isClosable:!0,position:"bottom"})},isLoading:P,children:"Sign Up"})]})},A="data:image/png;base64,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";var I=function(){return Object(a.useEffect)((()=>{document.getElementById("mySidebar").style.display="none",document.getElementById("AdminSidebar").style.display="none"}),[]),Object(v.jsxs)(l.a,{maxW:"xl",centerContent:!0,children:[Object(v.jsx)(r.a,{d:"flex",justifyContent:"center",p:3,w:"100%",m:"40px 0 15px 0",borderRadius:"lg",borderWidth:"1px",children:Object(v.jsx)(o.a,{fontSize:"5xl",fontFamily:"Work sans",fontWeight:"bold",color:"White",children:"Travelbooth"})}),Object(v.jsx)(d.a,{src:A,alt:"logo",w:"200px",h:"200px"}),Object(v.jsx)(r.a,{bg:"white",w:"100%",p:4,borderRadius:"lg",borderWidth:"1px",children:Object(v.jsxs)(j.e,{isFitted:!0,variant:"soft-rounded",children:[Object(v.jsxs)(j.b,{mb:"1em",children:[Object(v.jsx)(j.a,{children:"Login"}),Object(v.jsx)(j.a,{children:"Sign Up"})]}),Object(v.jsxs)(j.d,{children:[Object(v.jsx)(j.c,{children:Object(v.jsx)(C,{})}),Object(v.jsx)(j.c,{children:Object(v.jsx)(J,{})})]})]})})]})},B=(s(119),s(365)),P=s(356);const F=(e,t,s,a)=>s<e.length-1&&e[s+1].sender._id===t.sender._id&&e[s].sender._id!==a?33:s<e.length-1&&e[s+1].sender._id!==t.sender._id&&e[s].sender._id!==a||s===e.length-1&&e[s].sender._id!==a?0:"auto",T=(e,t,s,a)=>s<e.length-1&&(e[s+1].sender._id!==t.sender._id||void 0===e[s+1].sender._id)&&e[s].sender._id!==a,D=(e,t,s)=>t===e.length-1&&e[e.length-1].sender._id!==s&&e[e.length-1].sender._id,z=(e,t,s)=>s>0&&e[s-1].sender._id===t.sender._id,H=(e,t)=>{var s;return(null===(s=t[0])||void 0===s?void 0:s._id)===(null===e||void 0===e?void 0:e._id)?t[1].name:t[0].name};var q=s(370),L=s(366),M=s(364),R=s(49);var W=e=>{let{user:t,children:s}=e;const{isOpen:a,onOpen:c,onClose:i}=Object(M.a)();return Object(v.jsxs)(v.Fragment,{children:[s?Object(v.jsx)("span",{onClick:c,children:s}):Object(v.jsx)(B.a,{d:{base:"flex"},icon:Object(v.jsx)(L.a,{}),onClick:c}),Object(v.jsxs)(R.a,{size:"lg",onClose:i,isOpen:a,isCentered:!0,children:[Object(v.jsx)(R.h,{}),Object(v.jsxs)(R.d,{h:"410px",children:[Object(v.jsx)(R.g,{fontSize:"40px",fontFamily:"Work sans",d:"flex",justifyContent:"center",children:t.name}),Object(v.jsx)(R.c,{}),Object(v.jsxs)(R.b,{d:"flex",flexDir:"column",alignItems:"center",justifyContent:"space-between",children:[Object(v.jsx)(d.a,{borderRadius:"full",boxSize:"150px",src:t.pic,alt:t.name}),Object(v.jsxs)(o.a,{fontSize:{base:"28px",md:"30px"},fontFamily:"Work sans",children:["Email: ",t.email]})]}),Object(v.jsx)(R.f,{children:Object(v.jsx)(m.a,{onClick:i,children:"Close"})})]})]})]})},U=s(367),Y=s(389),G=s(200);var X=e=>{let{messages:t}=e;const{user:s}=E();return Object(v.jsx)(G.a,{children:t&&t.map(((e,a)=>Object(v.jsxs)("div",{style:{display:"flex"},children:[(T(t,e,a,s._id)||D(t,a,s._id))&&Object(v.jsx)(Y.a,{label:e.sender.name,placement:"bottom-start",hasArrow:!0,children:Object(v.jsx)(U.a,{mt:"7px",mr:1,size:"sm",cursor:"pointer",name:e.sender.name,src:e.sender.pic})}),Object(v.jsx)("span",{style:{backgroundColor:"".concat(e.sender._id===s._id?"#BEE3F8":"#A9C9A9"),marginLeft:F(t,e,a,s._id),marginTop:z(t,e,a,s._id)?3:10,borderRadius:"20px",padding:"5px 15px",maxWidth:"75%"},children:e.content})]},e._id)))})},V=s(201),K=s.n(V),_=s(202),Z=s(203),Q=s.n(Z),$=s(369),ee=s(368);var te=e=>{let{user:t,handleFunction:s,admin:a}=e;return Object(v.jsxs)(ee.a,{px:2,py:1,borderRadius:"lg",m:1,mb:2,variant:"solid",fontSize:12,colorScheme:"purple",cursor:"pointer",onClick:s,children:[t.name,a===t._id&&Object(v.jsx)("span",{children:" (Admin)"}),Object(v.jsx)($.a,{pl:1})]})};var se=e=>{let{handleFunction:t,user:s}=e;return Object(v.jsxs)(r.a,{onClick:t,cursor:"pointer",bg:"#E8E8E8",_hover:{background:"#38B2AC",color:"white"},w:"100%",d:"flex",alignItems:"center",color:"black",px:3,py:2,mb:2,borderRadius:"lg",children:[Object(v.jsx)(U.a,{mr:2,size:"sm",cursor:"pointer",name:s.name,src:s.pic}),Object(v.jsxs)(r.a,{children:[Object(v.jsx)(o.a,{children:s.name}),Object(v.jsxs)(o.a,{fontSize:"xs",children:[Object(v.jsx)("b",{children:"Email : "}),s.email]})]})]})};var ae=e=>{let{fetchMessages:t,fetchAgain:s,setFetchAgain:c}=e;const{isOpen:i,onOpen:n,onClose:l}=Object(M.a)(),[o,d]=Object(a.useState)(),[j,h]=Object(a.useState)(""),[p,u]=Object(a.useState)([]),[O,g]=Object(a.useState)(!1),[S,N]=Object(a.useState)(!1),k=Object(y.a)(),{selectedChat:w,setSelectedChat:C,user:J}=E(),A=async e=>{if(w.users.find((t=>t._id===e._id)))k({title:"User Already in group!",status:"error",duration:5e3,isClosable:!0,position:"bottom"});else if(w.groupAdmin._id===J._id){try{g(!0);const t={headers:{Authorization:"Bearer ".concat(J.token)}},{data:a}=await f.a.put("/api/chat/groupadd",{chatId:w._id,userId:e._id},t);C(a),c(!s),g(!1)}catch(t){k({title:"Error Occured!",description:t.response.data.message,status:"error",duration:5e3,isClosable:!0,position:"bottom"}),g(!1)}d("")}else k({title:"Only admins can add someone!",status:"error",duration:5e3,isClosable:!0,position:"bottom"})},I=async e=>{if(w.groupAdmin._id===J._id||e._id===J._id){try{g(!0);const a={headers:{Authorization:"Bearer ".concat(J.token)}},{data:i}=await f.a.put("/api/chat/groupremove",{chatId:w._id,userId:e._id},a);e._id===J._id?C():C(i),c(!s),t(),g(!1)}catch(a){k({title:"Error Occured!",description:a.response.data.message,status:"error",duration:5e3,isClosable:!0,position:"bottom"}),g(!1)}d("")}else k({title:"Only admins can remove someone!",status:"error",duration:5e3,isClosable:!0,position:"bottom"})};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(B.a,{d:{base:"flex"},icon:Object(v.jsx)(L.a,{}),onClick:n}),Object(v.jsxs)(R.a,{onClose:l,isOpen:i,isCentered:!0,children:[Object(v.jsx)(R.h,{}),Object(v.jsxs)(R.d,{children:[Object(v.jsx)(R.g,{fontSize:"35px",fontFamily:"Work sans",d:"flex",justifyContent:"center",children:w.chatName}),Object(v.jsx)(R.c,{}),Object(v.jsxs)(R.b,{d:"flex",flexDir:"column",alignItems:"center",children:[Object(v.jsx)(r.a,{w:"100%",d:"flex",flexWrap:"wrap",pb:3,children:w.users.map((e=>Object(v.jsx)(te,{user:e,admin:w.groupAdmin,handleFunction:()=>I(e)},e._id)))}),Object(v.jsxs)(b.a,{d:"flex",children:[Object(v.jsx)(x.a,{placeholder:"Chat Name",mb:3,value:o,onChange:e=>d(e.target.value)}),Object(v.jsx)(m.a,{variant:"solid",colorScheme:"teal",ml:1,isLoading:S,onClick:async()=>{if(o){try{N(!0);const e={headers:{Authorization:"Bearer ".concat(J.token)}},{data:t}=await f.a.put("/api/chat/rename",{chatId:w._id,chatName:o},e);console.log(t._id),C(t),c(!s),N(!1)}catch(e){k({title:"Error Occured!",description:e.response.data.message,status:"error",duration:5e3,isClosable:!0,position:"bottom"}),N(!1)}d("")}},children:"Update"})]}),Object(v.jsx)(b.a,{children:Object(v.jsx)(x.a,{placeholder:"Add User to group",mb:1,onChange:e=>(async e=>{if(h(e),e)try{g(!0);const e={headers:{Authorization:"Bearer ".concat(J.token)}},{data:t}=await f.a.get("/api/user?search=".concat(j),e);console.log(t),g(!1),u(t)}catch(t){k({title:"Error Occured!",description:"Failed to Load the Search Results",status:"error",duration:5e3,isClosable:!0,position:"bottom-left"}),g(!1)}})(e.target.value)})}),O?Object(v.jsx)(P.a,{size:"lg"}):null===p||void 0===p?void 0:p.map((e=>Object(v.jsx)(se,{user:e,handleFunction:()=>A(e)},e._id)))]}),Object(v.jsx)(R.f,{children:Object(v.jsx)(m.a,{onClick:()=>I(J),colorScheme:"red",children:"Leave Group"})})]})]})]})};var ce,ie;var ne=e=>{let{fetchAgain:t,setFetchAgain:s}=e;const[c,i]=Object(a.useState)([]),[n,l]=Object(a.useState)(!1),[d,j]=Object(a.useState)(""),[m,h]=Object(a.useState)(!1),[p,u]=Object(a.useState)(!1),[O,g]=Object(a.useState)(!1),S=Object(y.a)(),N={loop:!0,autoplay:!0,animationData:_,rendererSettings:{preserveAspectRatio:"xMidYMid slice"}},{selectedChat:k,setSelectedChat:w,user:C,notification:J,setNotification:A}=E(),I=async()=>{if(k)try{const e={headers:{Authorization:"Bearer ".concat(C.token)}};l(!0);const{data:t}=await f.a.get("/api/message/".concat(k._id),e);i(t),l(!1),ce.emit("join chat",k._id)}catch(e){S({title:"Error Occured!",description:"Failed to Load the Messages",status:"error",duration:5e3,isClosable:!0,position:"bottom"})}};Object(a.useEffect)((()=>{(ce=Q()("")).emit("setup",C),ce.on("connected",(()=>h(!0))),ce.on("typing",(()=>g(!0))),ce.on("stop typing",(()=>g(!1)))}),[]),Object(a.useEffect)((()=>{I(),ie=k}),[k]),Object(a.useEffect)((()=>{ce.on("message received",(e=>{console.log(e),ie&&ie._id===e.chat._id?i([...c,e]):J.includes(e)||(A([e,...J]),s(!t))}))}));return Object(v.jsx)(v.Fragment,{children:k?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(o.a,{fontSize:{base:"28px",md:"30px"},pb:3,px:2,w:"100%",fontFamily:"Work sans",d:"flex",justifyContent:{base:"space-between"},alignItems:"center",children:[Object(v.jsx)(B.a,{d:{base:"flex",md:"none"},icon:Object(v.jsx)(q.a,{}),onClick:()=>w("")}),c&&(k.isGroupChat?Object(v.jsxs)(v.Fragment,{children:[k.chatName.toUpperCase(),Object(v.jsx)(ae,{fetchMessages:I,fetchAgain:t,setFetchAgain:s})]}):Object(v.jsxs)(v.Fragment,{children:[H(C,k.users),Object(v.jsx)(W,{user:(F=C,T=k.users,T[0]._id===F._id?T[1]:T[0])})]}))]}),Object(v.jsxs)(r.a,{d:"flex",flexDir:"column",justifyContent:"flex-end",p:3,bg:"#E8E8E8",w:"100%",h:"100%",borderRadius:"lg",overflowY:"hidden",children:[n?Object(v.jsx)(P.a,{size:"xl",w:20,h:20,alignSelf:"center",margin:"auto"}):Object(v.jsx)("div",{className:"messages",children:Object(v.jsx)(X,{messages:c})}),Object(v.jsxs)(b.a,{onKeyDown:async e=>{if("Enter"===e.key&&d){ce.emit("stop typing",k._id);try{const e={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(C.token)}};j("");const{data:t}=await f.a.post("/api/message",{content:d,chatId:k},e);ce.emit("new message",t),i([...c,t])}catch(t){S({title:"Error Occured!",description:"Failed to send the Message",status:"error",duration:5e3,isClosable:!0,position:"bottom"})}}},id:"first-name",isRequired:!0,mt:3,children:[O?Object(v.jsx)("div",{children:Object(v.jsx)(K.a,{options:N,width:70,style:{marginBottom:15,marginLeft:0}})}):Object(v.jsx)(v.Fragment,{}),Object(v.jsx)(x.a,{variant:"filled",bg:"#E0E0E0",placeholder:"Enter a message..",value:d,onChange:e=>{if(j(e.target.value),!m)return;p||(u(!0),ce.emit("typing",k._id));let t=(new Date).getTime();setTimeout((()=>{(new Date).getTime()-t>=3e3&&p&&(ce.emit("stop typing",k._id),u(!1))}),3e3)}})]})]})]}):Object(v.jsx)(r.a,{d:"flex",alignItems:"center",justifyContent:"center",h:"100%",children:Object(v.jsx)(o.a,{fontSize:"3xl",pb:3,fontFamily:"Work sans",children:"Click on a user to start chatting"})})});var F,T};var le=e=>{let{fetchAgain:t,setFetchAgain:s}=e;const{selectedChat:a}=E();return Object(v.jsx)(r.a,{d:{base:a?"flex":"none",md:"flex"},alignItems:"center",flexDir:"column",p:3,bg:"white",w:{base:"100%",md:"68%"},borderRadius:"lg",borderWidth:"1px",children:Object(v.jsx)(ne,{fetchAgain:t,setFetchAgain:s})})},re=s(371),oe=s(387);var de=()=>Object(v.jsxs)(O.a,{children:[Object(v.jsx)(oe.a,{height:"45px"}),Object(v.jsx)(oe.a,{height:"45px"}),Object(v.jsx)(oe.a,{height:"45px"}),Object(v.jsx)(oe.a,{height:"45px"}),Object(v.jsx)(oe.a,{height:"45px"}),Object(v.jsx)(oe.a,{height:"45px"}),Object(v.jsx)(oe.a,{height:"45px"}),Object(v.jsx)(oe.a,{height:"45px"}),Object(v.jsx)(oe.a,{height:"45px"}),Object(v.jsx)(oe.a,{height:"45px"}),Object(v.jsx)(oe.a,{height:"45px"}),Object(v.jsx)(oe.a,{height:"45px"})]});var je=e=>{let{children:t}=e;const{isOpen:s,onOpen:c,onClose:i}=Object(M.a)(),[n,l]=Object(a.useState)(),[o,d]=Object(a.useState)([]),[j,h]=Object(a.useState)(""),[p,u]=Object(a.useState)([]),[O,g]=Object(a.useState)(!1),S=Object(y.a)(),{user:N,chats:k,setChats:w}=E();return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("span",{onClick:c,children:t}),Object(v.jsxs)(R.a,{onClose:i,isOpen:s,isCentered:!0,children:[Object(v.jsx)(R.h,{}),Object(v.jsxs)(R.d,{children:[Object(v.jsx)(R.g,{fontSize:"35px",fontFamily:"Work sans",d:"flex",justifyContent:"center",children:"Create Group Chat"}),Object(v.jsx)(R.c,{}),Object(v.jsxs)(R.b,{d:"flex",flexDir:"column",alignItems:"center",children:[Object(v.jsx)(b.a,{children:Object(v.jsx)(x.a,{placeholder:"Chat Name",mb:3,onChange:e=>l(e.target.value)})}),Object(v.jsx)(b.a,{children:Object(v.jsx)(x.a,{placeholder:"Add Users eg: John, Piyush, Jane",mb:1,onChange:e=>(async e=>{if(h(e),e)try{g(!0);const e={headers:{Authorization:"Bearer ".concat(N.token)}},{data:t}=await f.a.get("/api/user?search=".concat(j),e);console.log(t),g(!1),u(t)}catch(t){S({title:"Error Occured!",description:"Failed to Load the Search Results",status:"error",duration:5e3,isClosable:!0,position:"bottom-left"})}})(e.target.value)})}),Object(v.jsx)(r.a,{w:"100%",d:"flex",flexWrap:"wrap",children:o.map((e=>Object(v.jsx)(te,{user:e,handleFunction:()=>{return t=e,void d(o.filter((e=>e._id!==t._id)));var t}},e._id)))}),O?Object(v.jsx)("div",{children:"Loading..."}):null===p||void 0===p?void 0:p.slice(0,4).map((e=>Object(v.jsx)(se,{user:e,handleFunction:()=>{return t=e,void(o.includes(t)?S({title:"User already added",status:"warning",duration:5e3,isClosable:!0,position:"top"}):d([...o,t]));var t}},e._id)))]}),Object(v.jsx)(R.f,{children:Object(v.jsx)(m.a,{onClick:async()=>{if(n&&o)try{const e={headers:{Authorization:"Bearer ".concat(N.token)}},{data:t}=await f.a.post("/api/chat/group",{name:n,users:JSON.stringify(o.map((e=>e._id)))},e);w([t,...k]),i(),S({title:"New Group Chat Created!",status:"success",duration:5e3,isClosable:!0,position:"bottom"})}catch(e){S({title:"Failed to Create the Chat!",description:e.response.data,status:"error",duration:5e3,isClosable:!0,position:"bottom"})}else S({title:"Please fill all the feilds",status:"warning",duration:5e3,isClosable:!0,position:"top"})},colorScheme:"blue",children:"Create Chat"})})]})]})]})};var me=e=>{let{fetchAgain:t}=e;const[s,c]=Object(a.useState)(),{selectedChat:i,setSelectedChat:n,user:l,chats:d,setChats:j}=E(),b=Object(y.a)();return Object(a.useEffect)((()=>{"true"===localStorage.getItem("isDarkMode")&&(document.documentElement.dataset.bsTheme="dark"),c(JSON.parse(localStorage.getItem("userInfo"))),(async()=>{l&&("superadmin@gmail.com"===l.email?(document.getElementById("mySidebar").style.display="none",document.getElementById("AdminSidebar").style.display="block"):(document.getElementById("mySidebar").style.display="block",document.getElementById("AdminSidebar").style.display="none"));try{const e={headers:{Authorization:"Bearer ".concat(l.token)}},{data:t}=await f.a.get("/api/chat",e);j(t)}catch(e){b({title:"Error Occured!",description:"Failed to Load the chats",status:"error",duration:5e3,isClosable:!0,position:"bottom-left"})}})()}),[t]),Object(v.jsxs)(r.a,{d:{base:i?"none":"flex",md:"flex"},flexDir:"column",alignItems:"center",p:3,bg:"white",w:{base:"100%",md:"31%"},borderRadius:"lg",borderWidth:"1px",children:[Object(v.jsxs)(r.a,{pb:3,px:3,fontSize:{base:"28px",md:"30px"},fontFamily:"Work sans",d:"flex",w:"100%",justifyContent:"space-between",alignItems:"center",children:["My Chats",Object(v.jsx)(je,{children:Object(v.jsx)(m.a,{id:"newgroupchat",d:"flex",fontSize:{base:"17px",md:"10px",lg:"17px"},rightIcon:Object(v.jsx)(re.a,{}),children:"New Group Chat"})})]}),Object(v.jsx)(r.a,{d:"flex",flexDir:"column",p:3,bg:"#F8F8F8",w:"100%",h:"100%",borderRadius:"lg",overflowY:"hidden",children:d?Object(v.jsx)(O.a,{overflowY:"scroll",children:d.map((e=>Object(v.jsxs)(r.a,{onClick:()=>n(e),cursor:"pointer",bg:i===e?"#38B2AC":"#E8E8E8",color:i===e?"white":"black",px:3,py:2,borderRadius:"lg",children:[Object(v.jsx)(o.a,{children:e.isGroupChat?e.chatName:H(s,e.users)}),e.latestMessage&&Object(v.jsxs)(o.a,{fontSize:"xs",children:[Object(v.jsxs)("b",{children:[e.latestMessage.sender.name," : "]}),e.latestMessage.content.length>50?e.latestMessage.content.substring(0,51)+"...":e.latestMessage.content]})]},e._id)))}):Object(v.jsx)(de,{})})]})},be=s(388),he=s(396),xe=s(372),pe=s(373),ue=s(115),Oe=s.n(ue);var ge=function(){const[e,t]=Object(a.useState)(""),[s,c]=Object(a.useState)([]),[i,n]=Object(a.useState)(!1),[l,d]=Object(a.useState)(!1),[j,b]=Object(a.useState)([]),{setSelectedChat:h,notification:p,setNotification:u,chats:O,setChats:g}=E(),S=Object(y.a)(),{isOpen:k,onOpen:w,onClose:C}=Object(M.a)(),J=Object(N.useHistory)();return Object(a.useEffect)((()=>{const e=JSON.parse(localStorage.getItem("userInfo"));b(e)}),[J]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(r.a,{d:"flex",justifyContent:"space-between",alignItems:"center",bg:"white",w:"100%",p:"5px 10px 5px 10px",borderWidth:"5px",children:[Object(v.jsx)(Y.a,{label:"Search Users to chat",hasArrow:!0,placement:"bottom-end",children:Object(v.jsxs)(m.a,{variant:"ghost",onClick:w,children:[Object(v.jsx)("i",{className:"fas fa-search"}),Object(v.jsx)(o.a,{d:{base:"none",md:"flex"},px:4,children:"Search User"})]})}),Object(v.jsx)(o.a,{fontSize:"2xl",fontFamily:"Work sans",children:"TravelBooth Talk"}),Object(v.jsxs)("div",{children:[Object(v.jsxs)(be.a,{children:[Object(v.jsxs)(be.b,{p:1,children:[Object(v.jsx)(Oe.a,{count:p.length,effect:ue.Effect.SCALE}),Object(v.jsx)(xe.a,{fontSize:"2xl",m:1})]}),Object(v.jsxs)(be.e,{pl:2,children:[!p.length&&"No New Messages",p.map((e=>Object(v.jsx)(be.d,{onClick:()=>{h(e.chat),u(p.filter((t=>t!==e)))},children:e.chat.isGroupChat?"New Message in ".concat(e.chat.chatName):"New Message from ".concat(H(j,e.chat.users))},e._id)))]})]}),Object(v.jsxs)(be.a,{children:[Object(v.jsx)(be.b,{as:m.a,bg:"white",rightIcon:Object(v.jsx)(pe.a,{}),children:Object(v.jsx)(U.a,{size:"sm",cursor:"pointer",name:j.name,src:j.pic})}),Object(v.jsxs)(be.e,{children:[Object(v.jsxs)(W,{user:j,children:[Object(v.jsx)(be.d,{children:"My Profile"})," "]}),Object(v.jsx)(be.c,{}),Object(v.jsx)(be.d,{onClick:()=>{localStorage.removeItem("userInfo"),J.push("/")},children:"Logout"})]})]})]})]}),Object(v.jsxs)(he.a,{placement:"left",onClose:C,isOpen:k,children:[Object(v.jsx)(R.h,{}),Object(v.jsxs)(he.b,{children:[Object(v.jsx)(R.g,{borderBottomWidth:"1px",children:"Search Users"}),Object(v.jsxs)(R.b,{children:[Object(v.jsxs)(r.a,{d:"flex",pb:2,children:[Object(v.jsx)(x.a,{placeholder:"Search by name or email",mr:2,value:e,onChange:e=>t(e.target.value)}),Object(v.jsx)(m.a,{onClick:async()=>{try{n(!0);const t={headers:{Authorization:"Bearer ".concat(j.token)}},{data:s}=await f.a.get("/api/user?search=".concat(e),t);n(!1),c(s)}catch(t){S({title:"Error Occured!",description:"Failed to Load the Search Results",status:"error",duration:5e3,isClosable:!0,position:"bottom-left"})}},children:"Go"})]}),i?Object(v.jsx)(de,{}):null===s||void 0===s?void 0:s.map((e=>Object(v.jsx)(se,{user:e,handleFunction:()=>(async e=>{console.log(e);try{d(!0);const t={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(j.token)}},{data:s}=await f.a.post("/api/chat",{userId:e},t);O.find((e=>e._id===s._id))||g([s,...O]),h(s),d(!1),C()}catch(t){S({title:"Error fetching the chat",description:t.message,status:"error",duration:5e3,isClosable:!0,position:"bottom-left"})}})(e._id)},e._id))),l&&Object(v.jsx)(P.a,{ml:"auto",d:"flex"})]})]})]})]})};var fe=()=>{const[e,t]=Object(a.useState)(!1),{user:s}=E();return Object(v.jsxs)("div",{style:{width:"100%"},children:[s&&Object(v.jsx)(ge,{}),Object(v.jsxs)(r.a,{d:"flex",justifyContent:"space-between",w:"100%",h:"91.5vh",p:"10px",children:[s&&Object(v.jsx)(me,{fetchAgain:e}),s&&Object(v.jsx)(le,{fetchAgain:e,setFetchAgain:t})]})]})},ye=(s(324),s(383)),Se=s(374);var Ne=()=>{const e=Object(y.a)(),[t,s]=Object(a.useState)(""),[c,i]=Object(a.useState)(""),[n,l]=Object(a.useState)(""),[r,o]=Object(a.useState)(""),[d,j]=Object(a.useState)(!1),m=JSON.parse(localStorage.getItem("userInfo"));Object(a.useEffect)((()=>{const e=JSON.parse(localStorage.getItem("userInfo"));e&&(!0===e.isAdmin?(document.getElementById("mySidebar").style.display="none",document.getElementById("AdminSidebar").style.display="block"):(document.getElementById("mySidebar").style.display="block",document.getElementById("AdminSidebar").style.display="none"));"true"===localStorage.getItem("isDarkMode")&&(document.documentElement.dataset.bsTheme="dark"),!1===d&&(document.getElementById("chkPrivate").checked=!0)}),[]);const b=async(e,t)=>{1===t?document.getElementById("chkPublic").checked?(document.getElementById("chkPrivate").checked=!1,j(!0)):(document.getElementById("chkPrivate").checked=!0,j(!1)):document.getElementById("chkPrivate").checked?(document.getElementById("chkPublic").checked=!1,j(!1)):(document.getElementById("chkPublic").checked=!0,j(!0))};return Object(v.jsx)("div",{className:"capturePage-container w-100",children:Object(v.jsxs)("div",{className:"content-container",style:{paddingTop:"65px"},children:[Object(v.jsxs)("div",{className:"position-relative d-flex align-items-center justify-content-center pb-2",children:[Object(v.jsx)("h1",{className:"display-1 text-uppercase text-white",style:{WebkitTextStroke:"1px #dee2e6",fontSize:"7rem"},children:"Capture"}),Object(v.jsx)("h1",{className:"position-absolute text-uppercase text-primary",style:{fontSize:"3rem"},children:"Capture"})]}),Object(v.jsx)("div",{className:"post-container",children:Object(v.jsxs)(ye.a,{children:[Object(v.jsxs)(ye.a.Group,{controlId:"title",className:"my-2",children:[Object(v.jsx)(ye.a.Label,{children:"Title"}),Object(v.jsx)(ye.a.Control,{type:"text",placeholder:"Enter post title here",value:t,onChange:e=>s(e.target.value)})]}),Object(v.jsxs)(ye.a.Group,{controlId:"details",className:"my-2",children:[Object(v.jsx)(ye.a.Label,{children:"Details"}),Object(v.jsx)(ye.a.Control,{type:"text",placeholder:"Enter post details here",value:c,onChange:e=>i(e.target.value)})]}),Object(v.jsxs)(ye.a.Group,{controlId:"select-dropdown",className:"my-2",children:[Object(v.jsx)(ye.a.Label,{children:"Location"}),Object(v.jsx)(ye.a.Control,{type:"text",placeholder:"Enter location here",value:n,onChange:e=>l(e.target.value)})]}),Object(v.jsxs)(ye.a.Group,{controlId:"image",className:"my-2",children:[Object(v.jsx)(ye.a.Label,{children:"Image"}),Object(v.jsx)(ye.a.Control,{type:"file",onChange:async t=>{const s=new FormData;s.append("image",t.target.files[0]);try{const t={headers:{Authorization:"Bearer ".concat(m.token)}},a=await f.a.post("/api/upload",s,t);e({title:"Success!",description:a.message,status:"success",duration:5e3,isClosable:!0,position:"top-right"}),o(a.data.image)}catch(a){e({title:"Error Occured!",description:"Failed to Load the locations",status:"error",duration:5e3,isClosable:!0,position:"top-right"})}}})]}),Object(v.jsxs)(ye.a.Group,{controlId:"privacy",className:"my-2",children:[Object(v.jsx)(ye.a.Check,{type:"radio",label:"Public",id:"chkPublic",name:"chkPublic",value:"Public",onChange:e=>b(e.target.value,1)}),Object(v.jsx)(ye.a.Check,{type:"radio",label:"Private",id:"chkPrivate",name:"chkPrivate",value:"Private",onChange:e=>b(e.target.value,2)})]}),Object(v.jsx)(Se.a,{variant:"primary",className:"my-2",onClick:async s=>{s.preventDefault(),t||e({title:"Error Occured!",description:"Input Post Title",status:"error",position:"top-right",duration:5e3,isClosable:!0}),c||e({title:"Error Occured!",description:"Input Post Details",status:"error",position:"top-right",duration:5e3,isClosable:!0}),r||e({title:"Error Occured!",description:"Import Post Image",status:"error",position:"top-right",duration:5e3,isClosable:!0}),"Select location details"===n&&e({title:"Error Occured!",description:"Select Location",status:"error",position:"top-right",duration:5e3,isClosable:!0});try{const s={headers:{Authorization:"Bearer ".concat(m.token)}},a={sender:m._id,title:t,details:c,location:n,isPublic:d,image:r},{data:i}=await f.a.post("/api/post/submit",a,s);"OK"===i.state&&(e({title:"Success!",description:"Post submitted successfully.",status:"success",position:"top-right",duration:5e3,isClosable:!0}),document.location.href="/posts")}catch(a){e({title:"Error Occured!",description:"Failed to submit post",status:"error",duration:5e3,isClosable:!0,position:"bottom-left"})}},children:"Submit"})]})})]})})},ve=(s(135),s(376)),ke=s(204),Ee=s(385),we=s(8),Ce=s(21);var Je=e=>{let{value:t,text:s}=e;return Object(v.jsxs)("div",{className:"rating",children:[Object(v.jsxs)("span",{children:[t>=1?Object(v.jsx)(Ce.b,{}):t>=.5?Object(v.jsx)(Ce.c,{}):Object(v.jsx)(Ce.a,{}),t>=2?Object(v.jsx)(Ce.b,{}):t>=1.5?Object(v.jsx)(Ce.c,{}):Object(v.jsx)(Ce.a,{}),t>=3?Object(v.jsx)(Ce.b,{}):t>=2.5?Object(v.jsx)(Ce.c,{}):Object(v.jsx)(Ce.a,{}),t>=4?Object(v.jsx)(Ce.b,{}):t>=3.5?Object(v.jsx)(Ce.c,{}):Object(v.jsx)(Ce.a,{}),t>=5?Object(v.jsx)(Ce.b,{}):t>=4.5?Object(v.jsx)(Ce.c,{}):Object(v.jsx)(Ce.a,{})]}),Object(v.jsxs)("span",{className:"rating-text",children:[" ",s&&s]})]})},Ae=s(375);var Ie=e=>{let{children:t}=e;return Object(v.jsx)(Ae.a,{children:Object(v.jsx)(ve.a,{className:"justify-content-start",children:Object(v.jsx)(ke.a,{xs:12,md:12,children:t})})})};var Be=()=>{const[e,t]=Object(a.useState)([]);return Object(a.useEffect)((()=>{!0===localStorage.getItem("isDarkMode")&&(document.documentElement.dataset.bsTheme="dark");(async()=>{const e=JSON.parse(localStorage.getItem("userInfo"));e&&("true"===e.isAdmin?(document.getElementById("mySidebar").style.display="none",document.getElementById("AdminSidebar").style.display="block"):(document.getElementById("mySidebar").style.display="block",document.getElementById("AdminSidebar").style.display="none"));try{const s={headers:{Authorization:"Bearer ".concat(e.token)}},{data:a}=await f.a.post("/api/post/index",{sender:e._id},s);t(a.message)}catch(s){}})()}),[]),Object(v.jsx)("div",{className:"myPostsPage-container w-100",children:Object(v.jsxs)("div",{className:"content-container",style:{paddingTop:"75px"},children:[Object(v.jsxs)("div",{className:"position-relative d-flex align-items-center justify-content-center pb-3",children:[Object(v.jsx)("h1",{className:"display-1 text-uppercase text-white",style:{WebkitTextStroke:"1px #dee2e6",fontSize:"7rem"},children:"Posts"}),Object(v.jsx)("h1",{className:"position-absolute text-uppercase text-primary",style:{fontSize:"3.5rem"},children:"Post"})]}),Object(v.jsx)(Ie,{children:Object(v.jsx)(ve.a,{children:e.map((e=>Object(v.jsx)(ke.a,{sm:12,md:6,lg:4,xl:3,children:Object(v.jsxs)(Ee.a,{className:"p-3 rounded",children:[Object(v.jsx)(we.b,{to:"/post/".concat(e._id),children:Object(v.jsx)(Ee.a.Img,{src:e.image,className:"post-image"})}),Object(v.jsxs)(Ee.a.Body,{children:[Object(v.jsx)(we.b,{to:"/post/".concat(e._id),children:Object(v.jsx)(Ee.a.Title,{as:"div",children:Object(v.jsx)("strong",{children:e.title})})}),Object(v.jsx)(Ee.a.Text,{as:"div",className:"post-description",children:Object(v.jsx)("strong",{children:e.details})}),Object(v.jsx)(Ee.a.Text,{as:"h3",className:"post-date",children:Object(v.jsx)("strong",{children:e.updatedAt.substring(0,10)})}),Object(v.jsx)(Ee.a.Text,{as:"div",className:"post-location",children:Object(v.jsx)("strong",{children:e.location})}),Object(v.jsx)(Ee.a.Text,{as:"div",children:Object(v.jsx)(Je,{value:e.rating})})]}),Object(v.jsx)(we.b,{className:"post-edit-button w-100 text-center fw-semibold",to:"/post_edit/".concat(e._id),children:"Edit"})]})},e._id)))})})]})})},Pe=s(377);s(325);var Fe=()=>{const[e,t]=Object(a.useState)("details"),[s,c]=Object(a.useState)([]),[i,n]=Object(a.useState)(!1),[l,r]=Object(a.useState)(!1),o=Object(y.a)(),[d,j]=Object(a.useState)(),[p,u]=Object(a.useState)(),[O,g]=Object(a.useState)(),[S,N]=Object(a.useState)(),[k,E]=Object(a.useState)(),[w,C]=Object(a.useState)(),[J,A]=Object(a.useState)(!1),[I,B]=Object(a.useState)([]),[P,F]=Object(a.useState)([]),[T,D]=Object(a.useState)(""),[z,H]=Object(a.useState)(""),[q,L]=Object(a.useState)(""),[M,R]=Object(a.useState)(""),[W,U]=Object(a.useState)(""),[Y,G]=Object(a.useState)(""),X=JSON.parse(localStorage.getItem("userInfo")),V={headers:{Authorization:"Bearer ".concat(X.token)}},K=X._id;Object(a.useEffect)((()=>{const e=localStorage.getItem("isDarkMode");"true"===e&&(document.documentElement.dataset.bsTheme="dark",r(e)),(async()=>{X&&(!0===X.isAdmin?(document.getElementById("mySidebar").style.display="none",document.getElementById("AdminSidebar").style.display="block"):(document.getElementById("mySidebar").style.display="block",document.getElementById("AdminSidebar").style.display="none"));try{const e={headers:{Authorization:"Bearer ".concat(X.token)}},{data:t}=await f.a.get("/api/admin/faqs",e);t.message.forEach((e=>{1===e.no&&(D(e.question),R(e.answer)),2===e.no&&(H(e.question),U(e.answer)),3===e.no&&(L(e.question),G(e.answer))}))}catch(e){}})(),_(),Z();(async()=>{const{data:e}=await f.a.get("/api/user/".concat(K),V);c(e)})(),X&&(j(X.name),u(X.firstname),g(X.lastname),N(X.email),E(X.phone))}),[]);const _=async()=>{try{const e={headers:{Authorization:"Bearer ".concat(X.token)}},{data:t}=await f.a.post("/api/post/explore",{sender:X._id},e);let s=[];t.message.forEach((e=>{e.reviews.forEach((t=>{t.user._id===X._id&&!0===t.liked&&s.push({_id:e._id,title:e.title,location:e.location,sender:{_id:e.sender._id,name:e.sender.email},comment:t.comment})}))})),B(s)}catch(e){}},Z=async()=>{try{const e={headers:{Authorization:"Bearer ".concat(X.token)}},{data:t}=await f.a.post("/api/post/index",{sender:X._id},e);let s=[];t.message.forEach((e=>{e.rating>0&&s.push({_id:e._id,title:e.title,location:e.location,rating:e.rating})})),F(s)}catch(e){}},Q=()=>{"dark"===document.documentElement.dataset.bsTheme?(document.documentElement.dataset.bsTheme="",localStorage.setItem("isDarkMode","false")):(document.documentElement.dataset.bsTheme="dark",localStorage.setItem("isDarkMode","true"))};return Object(v.jsx)("div",{className:"userAccountPage-container w-100",children:Object(v.jsxs)("div",{className:"account-details-container",style:{paddingTop:"75px"},children:[Object(v.jsxs)("div",{className:"user-details",children:[Object(v.jsxs)("div",{className:"user-details-header",children:[Object(v.jsx)("h1",{children:"My Account Details"}),!1===i?Object(v.jsx)("i",{className:"fa fa-edit edit-icon",onClick:()=>{n(!0)}}):Object(v.jsx)("i",{className:"fa fa-arrow-left edit-icon",onClick:e=>n(!1)})]}),!1===i?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("img",{src:s.pic,alt:"User",className:"user-account-image"}),Object(v.jsxs)("div",{className:"user-info",children:[Object(v.jsxs)("p",{children:[Object(v.jsx)("strong",{children:"Username:"})," ",s.name]}),Object(v.jsxs)("p",{children:[Object(v.jsx)("strong",{children:"First Name:"})," ",s.firstname]}),Object(v.jsxs)("p",{children:[Object(v.jsx)("strong",{children:"Last Name:"})," ",s.lastname]}),Object(v.jsxs)("p",{children:[Object(v.jsx)("strong",{children:"Email:"})," ",s.email]}),Object(v.jsxs)("p",{children:[Object(v.jsx)("strong",{children:"Phone No:"})," ",s.phone]})]})]}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(b.a,{id:"first-name",isRequired:!0,children:[Object(v.jsx)(h.a,{children:"Name"}),Object(v.jsx)(x.a,{value:d,placeholder:"Enter Your Name",onChange:e=>j(e.target.value)})]}),Object(v.jsxs)(b.a,{id:"firstname",isRequired:!0,children:[Object(v.jsx)(h.a,{children:"FirstName"}),Object(v.jsx)(x.a,{value:p,placeholder:"Enter Your First Name",onChange:e=>u(e.target.value)})]}),Object(v.jsxs)(b.a,{id:"lastname",isRequired:!0,children:[Object(v.jsx)(h.a,{children:"LastName"}),Object(v.jsx)(x.a,{value:O,placeholder:"Enter Your Name",onChange:e=>g(e.target.value)})]}),Object(v.jsxs)(b.a,{id:"email",isRequired:!0,children:[Object(v.jsx)(h.a,{children:"Email Address"}),Object(v.jsx)(x.a,{value:S,type:"email",placeholder:"Enter Your Email Address",onChange:e=>N(e.target.value)})]}),Object(v.jsxs)(b.a,{id:"phone",isRequired:!0,children:[Object(v.jsx)(h.a,{children:"PhoneNumber"}),Object(v.jsx)(x.a,{value:k,type:"text",placeholder:"Enter Your PhoneNumber",onChange:e=>E(e.target.value)})]}),Object(v.jsxs)(b.a,{id:"pic",children:[Object(v.jsx)(h.a,{children:"Upload your Picture"}),Object(v.jsx)(x.a,{type:"file",p:1.5,onChange:e=>(async e=>{if(A(!0),void 0!==e){if(console.log("pics",e),"image/jpeg"!==e.type&&"image/png"!==e.type)return o({title:"Please Select an Image!",status:"warning",duration:5e3,isClosable:!0,position:"bottom"}),void A(!1);{const t=new FormData;t.append("image",e);const s=await f()({method:"post",url:"/api/upload",data:t,headers:{"Content-Type":"multipart/form-data"}});C(s.data.image),A(!1),console.log("sucessPic",w)}}else o({title:"Please Select an Image!",status:"warning",duration:5e3,isClosable:!0,position:"bottom"})})(e.target.files[0])})]}),Object(v.jsx)(m.a,{colorScheme:"blue",width:"100%",style:{marginTop:15},onClick:async()=>{if(A(!0),!d||!S||!p||!O||!k)return o({title:"Please Fill all the Feilds",status:"warning",duration:5e3,isClosable:!0,position:"bottom"}),void A(!1);console.log(d,p,O,S,w,k);try{const e={headers:{"Content-type":"application/json"}},{data:t}=await f.a.put("/api/user/update/".concat(K),{name:d,firstname:p,lastname:O,email:S,phone:k,pic:w},e);console.log(t),o({title:"Profile Updated Successfully",status:"success",duration:5e3,isClosable:!0,position:"bottom"}),localStorage.setItem("userInfo",JSON.stringify(t)),A(!1),n(!1)}catch(e){o({title:"Error Occured!",description:e.response.data.message,status:"error",duration:5e3,isClosable:!0,position:"bottom"}),A(!1)}},isLoading:J,children:"Update"})]})]}),Object(v.jsxs)("div",{className:"account-tabs",children:[Object(v.jsx)("i",{className:"fa fa-heart tab-icon",onClick:()=>t("likes")}),Object(v.jsx)("i",{className:"fa fa-star tab-icon",onClick:()=>t("stars")}),Object(v.jsx)("i",{className:"fa fa-cog tab-icon",onClick:()=>t("settings")}),Object(v.jsx)("i",{className:"fa fa-question-circle tab-icon",onClick:()=>t("help")})]}),Object(v.jsx)("div",{className:"tab-content",children:(()=>{switch(e){case"details":case"likes":return Object(v.jsx)("div",{children:Object(v.jsxs)(Pe.a,{striped:!0,hover:!0,responsive:!0,className:"table-md",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"Sender"}),Object(v.jsx)("th",{children:"Post Title"}),Object(v.jsx)("th",{children:"Location"}),Object(v.jsx)("th",{children:"My Comment"})]})}),Object(v.jsx)("tbody",{children:I.map(((e,t)=>Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:e.sender.name}),Object(v.jsx)("td",{children:e.title}),Object(v.jsx)("td",{children:e.location}),Object(v.jsx)("td",{children:e.comment})]},t)))})]})});case"stars":return Object(v.jsx)("div",{children:Object(v.jsxs)(Pe.a,{striped:!0,hover:!0,responsive:!0,className:"table-md",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"Post Title"}),Object(v.jsx)("th",{children:"Location"}),Object(v.jsx)("th",{children:"Rating"})]})}),Object(v.jsx)("tbody",{children:P.map(((e,t)=>Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:e.title}),Object(v.jsx)("td",{children:e.location}),Object(v.jsx)("td",{children:Object(v.jsx)(Je,{value:e.rating})})]},t)))})]})});case"settings":return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("ul",{className:"nav nav-tabs",id:"myTab",role:"tablist",children:[Object(v.jsx)("li",{className:"nav-item-user",role:"presentation",children:Object(v.jsx)("button",{className:"nav-link active",id:"home-tab","data-bs-toggle":"tab","data-bs-target":"#notifications",type:"button",role:"tab","aria-controls":"notifications","aria-selected":"true",children:"Notifications"})}),Object(v.jsx)("li",{className:"nav-item-user",role:"presentation",children:Object(v.jsx)("button",{className:"nav-link",id:"contact-tab","data-bs-toggle":"tab","data-bs-target":"#theme",type:"button",role:"tab","aria-controls":"theme","aria-selected":"false",children:"Theme"})})]}),Object(v.jsxs)("div",{className:"tab-content-user pt-2",id:"myTabContent",children:[Object(v.jsx)("div",{className:"tab-pane fade show active",id:"notifications",role:"tabpanel","aria-labelledby":"home-tab",children:Object(v.jsxs)("div",{className:"row mb-5",children:[Object(v.jsx)("label",{className:"col-sm-2 col-form-label",children:"Posts"}),Object(v.jsxs)("div",{className:"col-sm-10",children:[Object(v.jsxs)("div",{className:"form-check form-switch mt-3",children:[Object(v.jsx)("input",{className:"form-check-input",type:"checkbox",id:"flexSwitchCheckDefault"}),Object(v.jsx)("label",{className:"form-check-label",htmlFor:"flexSwitchCheckDefault",children:"New Posts"})]}),Object(v.jsxs)("div",{className:"form-check form-switch mt-3",children:[Object(v.jsx)("input",{className:"form-check-input",type:"checkbox",id:"flexSwitchCheckDefault"}),Object(v.jsx)("label",{className:"form-check-label",htmlFor:"flexSwitchCheckDefault",children:"Likes"})]}),Object(v.jsxs)("div",{className:"form-check form-switch mt-3",children:[Object(v.jsx)("input",{className:"form-check-input",type:"checkbox",id:"flexSwitchCheckDefault"}),Object(v.jsx)("label",{className:"form-check-label",htmlFor:"flexSwitchCheckDefault",children:"Comments"})]})]})]})}),Object(v.jsx)("div",{className:"tab-pane fade",id:"theme",role:"tabpanel","aria-labelledby":"contact-tab",children:Object(v.jsxs)("div",{className:"row mb-5",children:[Object(v.jsx)("label",{className:"col-sm-2 col-form-label",children:"Theme Switch"}),Object(v.jsx)("div",{className:"col-sm-10",children:Object(v.jsxs)("div",{className:"form-check form-switch mt-3",children:[Object(v.jsx)("input",{className:"form-check-input",type:"checkbox",id:"flexSwitchCheckDefault",onChange:Q,value:l}),Object(v.jsx)("label",{className:"form-check-label",htmlFor:"flexSwitchCheckDefault",children:"Dark Mode"})]})})]})})]})]});case"help":return Object(v.jsx)("div",{className:"card",children:Object(v.jsxs)("div",{className:"card-body",children:[Object(v.jsx)("h5",{className:"card-title",children:"FAQ"}),Object(v.jsxs)("div",{className:"accordion accordion-flush",id:"faq-group-1",children:[Object(v.jsxs)("div",{className:"accordion-item",children:[Object(v.jsx)("h2",{className:"accordion-header",children:Object(v.jsx)("button",{className:"accordion-button collapsed","data-bs-target":"#faqsOne-1",type:"button","data-bs-toggle":"collapse",children:T})}),Object(v.jsx)("div",{id:"faqsOne-1",className:"accordion-collapse collapse","data-bs-parent":"#faq-group-1",children:Object(v.jsx)("div",{className:"accordion-body bg-white",children:M})})]}),Object(v.jsxs)("div",{className:"accordion-item",children:[Object(v.jsx)("h2",{className:"accordion-header",children:Object(v.jsx)("button",{className:"accordion-button collapsed","data-bs-target":"#faqsOne-2",type:"button","data-bs-toggle":"collapse",children:z})}),Object(v.jsx)("div",{id:"faqsOne-2",className:"accordion-collapse collapse","data-bs-parent":"#faq-group-1",children:Object(v.jsx)("div",{className:"accordion-body bg-white",children:W})})]}),Object(v.jsxs)("div",{className:"accordion-item",children:[Object(v.jsx)("h2",{className:"accordion-header",children:Object(v.jsx)("button",{className:"accordion-button collapsed","data-bs-target":"#faqsOne-3",type:"button","data-bs-toggle":"collapse",children:q})}),Object(v.jsx)("div",{id:"faqsOne-3",className:"accordion-collapse collapse","data-bs-parent":"#faq-group-1",children:Object(v.jsx)("div",{className:"accordion-body bg-white",children:Y})})]})]})]})});default:return Object(v.jsx)("div",{children:"Select a tab to view content."})}})()})]})})};s(326);var Te=()=>{const[e,t]=Object(a.useState)([]),[s,c]=Object(a.useState)([]),[i,n]=Object(a.useState)(0),l=Object(y.a)(),r=JSON.parse(localStorage.getItem("userInfo")),o=async()=>{r&&(!0===r.isAdmin?(document.getElementById("mySidebar").style.display="none",document.getElementById("AdminSidebar").style.display="block"):(document.getElementById("mySidebar").style.display="block",document.getElementById("AdminSidebar").style.display="none"));try{const e={headers:{Authorization:"Bearer ".concat(r.token)}},{data:s}=await f.a.post("/api/post/index",{sender:r._id},e);let a=[],i=0;s.message.forEach((e=>{e.reviews.forEach((t=>{t.noticed||(a.push({_id:e._id,title:e.title,sender:{_id:t.user._id,name:t.user.email},comment:t.comment,liked:t.liked}),i++)}))})),t(a);const l=(await f.a.post("/api/post/notified_posts",{sender:r._id},e)).data.message;c(l),n(i+l.length)}catch(e){}};return Object(a.useEffect)((()=>{"true"===localStorage.getItem("isDarkMode")&&(document.documentElement.dataset.bsTheme="dark"),o()}),[]),Object(v.jsx)("div",{className:"notificationPage-container w-100",children:Object(v.jsxs)("div",{className:"notifications-container",children:[Object(v.jsxs)("div",{className:"position-relative d-flex align-items-center justify-content-center pb-3",children:[Object(v.jsx)("h1",{className:"display-1 text-uppercase text-white",style:{WebkitTextStroke:"1px #dee2e6",fontSize:"7rem"},children:"Notification"}),Object(v.jsx)("h1",{className:"position-absolute text-uppercase text-primary",style:{fontSize:"3.5rem"},children:"Notification"})]}),Object(v.jsxs)("div",{className:"notification-details",children:[Object(v.jsx)("div",{className:"notifications-header",children:"Notifications"}),Object(v.jsxs)("div",{className:"notification-icon",children:[Object(v.jsx)("i",{className:"fa fa-2x fa-bell ".concat(i>0?"fa-shake":""),size:24}),i>0&&Object(v.jsx)("div",{className:"notification-count bg-info",children:i})]}),i>0?Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{className:"notification-action",children:Object(v.jsxs)(Pe.a,{striped:!0,hover:!0,responsive:!0,className:"table-md",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"Notification"}),Object(v.jsx)("th",{children:"Sender"}),Object(v.jsx)("th",{children:"Post Title"}),Object(v.jsx)("th",{children:"Comment"}),Object(v.jsx)("th",{children:"Like"}),Object(v.jsx)("th",{})]})}),Object(v.jsxs)("tbody",{children:[s.map(((e,t)=>{var s;return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{className:"text-warning",children:"New"}),Object(v.jsx)("td",{children:null===(s=e.sender)||void 0===s?void 0:s.name}),Object(v.jsx)("td",{children:e.title}),Object(v.jsx)("td",{}),Object(v.jsx)("td",{}),Object(v.jsx)("td",{children:Object(v.jsx)(Se.a,{variant:"info",className:"btn-sm",onClick:()=>(async e=>{try{const t={headers:{Authorization:"Bearer ".concat(r.token)}},s=r._id;await f.a.post("/api/post/notify2",{userId:s,postId:e},t),l({title:"Notified Success!",description:"Remove From Notifications",status:"success",duration:5e3,isClosable:!0,position:"top-right"}),o()}catch(t){l({title:"Error Occured!",description:"Failed to Close Notifications",status:"error",duration:5e3,isClosable:!0,position:"top-right"})}})(e._id),children:Object(v.jsx)(Ce.d,{style:{color:"white"}})})})]},t)})),e.map(((e,t)=>Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{className:"text-info",children:"Comment"}),Object(v.jsx)("td",{children:e.sender.name}),Object(v.jsx)("td",{children:e.title}),Object(v.jsx)("td",{children:e.comment}),e.liked?Object(v.jsx)("td",{children:"Like"}):Object(v.jsx)("td",{}),Object(v.jsx)("td",{children:Object(v.jsx)(Se.a,{variant:"info",className:"btn-sm",onClick:()=>(async(e,t)=>{try{const s={headers:{Authorization:"Bearer ".concat(r.token)}};await f.a.post("/api/post/notify",{userId:t,postId:e},s),l({title:"Notified Success!",description:"Remove From Notifications",status:"success",duration:5e3,isClosable:!0,position:"top-right"}),o()}catch(s){l({title:"Error Occured!",description:"Failed to Close Notifications",status:"error",duration:5e3,isClosable:!0,position:"top-right"})}})(e._id,e.sender._id),children:Object(v.jsx)(Ce.d,{style:{color:"white"}})})})]},t)))]})]})})}):Object(v.jsx)("div",{className:"notification-message",children:"Currently, nothing to report!"})]})]})})};s(188);var De=()=>{const[e,t]=Object(a.useState)([]),s=Object(y.a)(),c=JSON.parse(localStorage.getItem("userInfo"));return Object(a.useEffect)((()=>{!0===localStorage.getItem("isDarkMode")&&(document.documentElement.dataset.bsTheme="dark");(async()=>{const e=JSON.parse(localStorage.getItem("userInfo"));e&&("true"===e.isAdmin?(document.getElementById("mySidebar").style.display="none",document.getElementById("AdminSidebar").style.display="block"):(document.getElementById("mySidebar").style.display="block",document.getElementById("AdminSidebar").style.display="none"));try{const s={headers:{Authorization:"Bearer ".concat(e.token)}},{data:a}=await f.a.post("/api/post/explore",{sender:e._id},s);a.message.forEach((t=>{t.liked=!1,t.comment="",t.reviews.forEach((s=>{s.user._id===e._id&&(t.liked=s.liked,t.comment=s.comment)}))})),t(a.message)}catch(s){}})()}),[]),Object(v.jsx)("div",{className:"explorePage-container w-100",children:Object(v.jsxs)("div",{className:"content-container",style:{paddingTop:"75px"},children:[Object(v.jsxs)("div",{className:"position-relative d-flex align-items-center justify-content-center",children:[Object(v.jsx)("h1",{className:"display-1 text-uppercase text-white",style:{WebkitTextStroke:"1px #dee2e6",fontSize:"6rem"},children:"Explore"}),Object(v.jsx)("h1",{className:"position-absolute text-uppercase text-primary",style:{fontSize:"3.5rem"},children:"explore"})]}),Object(v.jsx)(Ie,{children:Object(v.jsx)(ve.a,{children:e.map((e=>Object(v.jsx)(ke.a,{sm:12,md:6,lg:4,xl:3,children:Object(v.jsxs)(Ee.a,{className:"my-3 p-3 rounded",children:[Object(v.jsx)(Ee.a.Img,{src:e.sender.pic,className:"user-image",variant:"top"}),Object(v.jsx)(Ee.a.Text,{as:"div",className:"user-info",children:Object(v.jsx)("strong",{children:e.sender.name})}),Object(v.jsxs)(Ee.a.Body,{className:"",children:[Object(v.jsxs)("div",{onClick:a=>(async e=>{try{const a={headers:{Authorization:"Bearer ".concat(c.token)}},{data:i}=await f.a.post("/api/post/like_post",{userId:c._id,postId:e},a);i.message.forEach((e=>{e.liked=!1,e.comment="",e.reviews.forEach((t=>{t.user._id===c._id&&(e.liked=t.liked,e.comment=t.comment)}))})),t(i.message),s({title:"Success!",description:"Liked Post Changed Successfully",status:"success",duration:5e3,isClosable:!0,position:"top-right"})}catch(a){s({title:"Error Occured!",description:"Failed to Load the Posts",status:"error",duration:5e3,isClosable:!0,position:"top-right"})}})(e._id),children:[Object(v.jsx)(Ee.a.Img,{src:e.image,className:"post-image",variant:"top"}),e.liked?Object(v.jsx)(Ee.a.Img,{src:"/images/tick.png",className:"liked-image"}):Object(v.jsx)("div",{className:"liked-image"})]}),Object(v.jsx)(we.b,{to:"/post/".concat(e._id),children:Object(v.jsx)(Ee.a.Title,{as:"div",className:"post-title",children:Object(v.jsx)("strong",{children:e.title})})}),Object(v.jsx)(Ee.a.Text,{as:"div",className:"post-description",children:Object(v.jsx)("strong",{children:e.details})}),Object(v.jsx)(Ee.a.Text,{as:"h3",className:"post-date",children:Object(v.jsx)("strong",{children:e.updatedAt.substring(0,10)})}),Object(v.jsx)(Ee.a.Text,{as:"div",className:"post-location",children:Object(v.jsx)("strong",{children:e.location})}),Object(v.jsx)(Ee.a.Text,{as:"div",children:Object(v.jsx)(Je,{value:e.rating})}),Object(v.jsxs)(Ee.a.Text,{as:"div",className:"post-comment",children:["- ",e.comment," -"]})]}),Object(v.jsx)(we.b,{className:"post-edit-button",to:"/comment/".concat(e._id),children:"Comment"})]})},e._id)))})})]})})},ze=s(378);var He=()=>{const{id:e}=Object(N.useParams)(),t=Object(y.a)(),[s,c]=Object(a.useState)(""),[i,n]=Object(a.useState)(""),[l,r]=Object(a.useState)(""),[o,d]=Object(a.useState)(""),[j,m]=Object(a.useState)(),[b,h]=Object(a.useState)(!1),x=JSON.parse(localStorage.getItem("userInfo")),p=async()=>{try{const t={headers:{Authorization:"Bearer ".concat(x.token)}},s=(await f.a.post("/api/post/edit",{id:e},t)).data.message;!1===s[0].isPublic?document.getElementById("chkPrivate").checked=!0:document.getElementById("chkPublic").checked=!0,c(s[0].title),n(s[0].details),r(s[0].location),m(s[0].rating),h(s[0].isPublic),d(s[0].image)}catch(s){t({title:"Error Ocurred!",description:"Failed to Load Data",status:"error",duration:5e3,isClosable:!0,position:"top-right"})}};Object(a.useEffect)((()=>{const e=JSON.parse(localStorage.getItem("userInfo"));e&&(!0===e.isAdmin?(document.getElementById("mySidebar").style.display="none",document.getElementById("AdminSidebar").style.display="block"):(document.getElementById("mySidebar").style.display="block",document.getElementById("AdminSidebar").style.display="none"));"true"===localStorage.getItem("isDarkMode")&&(document.documentElement.dataset.bsTheme="dark"),p()}),[]);const u=async(e,t)=>{1===t?document.getElementById("chkPublic").checked?(document.getElementById("chkPrivate").checked=!1,h(!0)):(document.getElementById("chkPrivate").checked=!0,h(!1)):document.getElementById("chkPrivate").checked?(document.getElementById("chkPublic").checked=!1,h(!1)):(document.getElementById("chkPublic").checked=!0,h(!0))};return Object(v.jsx)("div",{className:"capturePage-container w-100",children:Object(v.jsx)("div",{className:"content-container",style:{paddingTop:"75px"},children:Object(v.jsx)("div",{className:"post-container",children:Object(v.jsxs)(ye.a,{children:[Object(v.jsxs)(ye.a.Group,{controlId:"title",className:"my-2",children:[Object(v.jsx)(ye.a.Label,{children:"Title"}),Object(v.jsx)(ye.a.Control,{type:"text",placeholder:"Enter post title here",value:s,onChange:e=>c(e.target.value)})]}),Object(v.jsxs)(ye.a.Group,{controlId:"details",className:"my-2",children:[Object(v.jsx)(ye.a.Label,{children:"Details"}),Object(v.jsx)(ye.a.Control,{type:"text",placeholder:"Enter post details here",value:i,onChange:e=>n(e.target.value)})]}),Object(v.jsxs)(ye.a.Group,{controlId:"select-dropdown",className:"my-2",children:[Object(v.jsx)(ye.a.Label,{children:"Location"}),Object(v.jsx)(ye.a.Control,{type:"text",placeholder:"Enter post location here",value:l,onChange:e=>r(e.target.value)})]}),Object(v.jsxs)(ye.a.Group,{controlId:"image",className:"my-2",children:[Object(v.jsx)(ye.a.Label,{children:"Image"}),Object(v.jsx)(ze.a,{src:o,className:"thumb-img"}),Object(v.jsx)(ye.a.Control,{type:"file",className:"mt-2",onChange:async e=>{const s=new FormData;s.append("image",e.target.files[0]);try{const e={headers:{Authorization:"Bearer ".concat(x.token)}},a=await f.a.post("/api/upload",s,e);t({title:"Success!",description:a.message,status:"success",duration:5e3,isClosable:!0,position:"top-right"}),d(a.data.image)}catch(a){t({title:"Error Occured!",description:"Failed to Load the locations",status:"error",duration:5e3,isClosable:!0,position:"top-right"})}}})]}),Object(v.jsxs)(ye.a.Group,{controlId:"rating",className:"my-2",children:[Object(v.jsx)(ye.a.Label,{children:"Rating"}),Object(v.jsx)(Je,{value:j}),Object(v.jsx)(ye.a.Control,{className:"mt-2",type:"text",placeholder:"Enter rating here",value:j,onChange:e=>m(e.target.value)})]}),Object(v.jsx)(ye.a.Label,{children:"Privacy"}),Object(v.jsx)(ye.a.Group,{controlId:"privacy",className:"post-privacy",children:Object(v.jsxs)("div",{class:"row",children:[Object(v.jsx)("div",{class:"col",children:Object(v.jsx)(ye.a.Check,{type:"radio",label:"Public",id:"chkPublic",name:"chkPublic",value:"Public",onChange:e=>u(e.target.value,1)})}),Object(v.jsx)("div",{class:"col",children:Object(v.jsx)(ye.a.Check,{type:"radio",label:"Private",id:"chkPrivate",name:"chkPrivate",value:"Private",onChange:e=>u(e.target.value,2)})})]})}),Object(v.jsxs)("div",{class:"post-buttons mt-3",children:[Object(v.jsx)(Se.a,{variant:"success",onClick:async()=>{s||t({title:"Error Occured!",description:"Input Post Title",status:"error",position:"top-right",duration:5e3,isClosable:!0}),i||t({title:"Error Occured!",description:"Input Post Details",status:"error",position:"top-right",duration:5e3,isClosable:!0}),o||t({title:"Error Occured!",description:"Import Post Image",status:"error",position:"top-right",duration:5e3,isClosable:!0}),"Select location details"===l&&t({title:"Error Occured!",description:"Select Location",status:"error",position:"top-right",duration:5e3,isClosable:!0});try{const a={headers:{Authorization:"Bearer ".concat(x.token)}},c={id:e,sender:x._id,title:s,details:i,location:l,isPublic:b,image:o,rating:j},{data:n}=await f.a.post("/api/post/update",c,a);"OK"===n.state&&t({title:"Success!",description:"Post updated successfully.",status:"success",position:"top-right",duration:5e3,isClosable:!0})}catch(a){t({title:"Error Occured!",description:"Failed to updating post",status:"error",duration:5e3,isClosable:!0,position:"top-right"})}},children:"Update"}),Object(v.jsx)(Se.a,{variant:"warning",onClick:async()=>{window.history.back()},children:"Go Back"})]})]})})})})};var qe=()=>{const{id:e}=Object(N.useParams)(),t=Object(y.a)(),[s,c]=Object(a.useState)(""),[i,n]=Object(a.useState)(""),[l,r]=Object(a.useState)(""),[o,d]=Object(a.useState)(""),[j,m]=Object(a.useState)(),[b,h]=Object(a.useState)(""),[x,p]=Object(a.useState)(!1),[u,O]=Object(a.useState)(!1),g=JSON.parse(localStorage.getItem("userInfo")),S=async()=>{try{const t={headers:{Authorization:"Bearer ".concat(g.token)}},s=(await f.a.post("/api/post/edit",{id:e},t)).data.message;s.forEach((e=>{e.liked=!1,e.comment="",e.reviews.forEach((t=>{t.user._id===g._id&&(e.liked=t.liked,e.comment=t.comment)}))})),c(s[0].title),n(s[0].details),r(s[0].location),m(s[0].rating),O(s[0].isPublic),d(s[0].image),h(s[0].comment),p(s[0].liked)}catch(s){t({title:"Error Ocurred!",description:"Failed to Load Data",status:"error",duration:5e3,isClosable:!0,position:"top-right"})}};Object(a.useEffect)((()=>{const e=localStorage.getItem("isDarkMode"),t=JSON.parse(localStorage.getItem("userInfo"));t&&(!0===t.isAdmin?(document.getElementById("mySidebar").style.display="none",document.getElementById("AdminSidebar").style.display="block"):(document.getElementById("mySidebar").style.display="block",document.getElementById("AdminSidebar").style.display="none")),"true"===e&&(document.documentElement.dataset.bsTheme="dark"),S()}),[]);return Object(v.jsx)("div",{className:"capturePage-container w-100",children:Object(v.jsx)("div",{className:"content-container",style:{paddingTop:"75px"},children:Object(v.jsx)("div",{className:"w-75 border rounded shadow-sm",children:Object(v.jsx)(ve.a,{children:Object(v.jsxs)(ke.a,{md:12,children:[Object(v.jsxs)("span",{className:"explore-post-title",children:["- ",s," -"]}),Object(v.jsx)("div",{className:"explore-img-container mt-2",children:Object(v.jsx)(ze.a,{src:o,className:"explore-img"})}),Object(v.jsxs)("div",{className:"p-4",children:[Object(v.jsxs)(ve.a,{className:"my-2",children:[Object(v.jsx)(ke.a,{md:3,children:Object(v.jsx)("span",{children:Object(v.jsx)("strong",{children:"Details :"})})}),Object(v.jsx)(ke.a,{md:9,children:i})]}),Object(v.jsxs)(ve.a,{className:"my-2",children:[Object(v.jsx)(ke.a,{md:3,children:Object(v.jsx)("span",{children:Object(v.jsx)("strong",{children:"Location :"})})}),Object(v.jsx)(ke.a,{md:9,children:l})]}),Object(v.jsxs)(ve.a,{className:"my-2",children:[Object(v.jsx)(ke.a,{md:3,children:Object(v.jsx)("span",{children:Object(v.jsx)("strong",{children:"Rating :"})})}),Object(v.jsx)(ke.a,{md:9,children:Object(v.jsx)(Je,{value:j})})]}),Object(v.jsxs)(ve.a,{className:"my-2",children:[Object(v.jsx)(ke.a,{md:3,children:Object(v.jsx)("span",{children:Object(v.jsx)("strong",{children:"Privacy :"})})}),Object(v.jsx)(ke.a,{md:9,children:u?"Public":"Private"})]}),Object(v.jsxs)(ve.a,{className:"my-2",children:[Object(v.jsx)(ke.a,{md:3,children:Object(v.jsx)("span",{children:Object(v.jsx)("strong",{children:"Your Comment :"})})}),Object(v.jsx)(ke.a,{md:9,children:Object(v.jsx)(ye.a.Control,{type:"text",placeholder:"Enter comment here",value:b,onChange:e=>h(e.target.value)})})]}),Object(v.jsxs)(ve.a,{children:[Object(v.jsx)(ke.a,{md:5}),Object(v.jsx)(ke.a,{md:2,children:Object(v.jsx)(Se.a,{variant:"primary",className:"my-2",onClick:async()=>{b||t({title:"Error Occured!",description:"Input Comment",status:"error",position:"top-right",duration:5e3,isClosable:!0});try{const s={headers:{Authorization:"Bearer ".concat(g.token)}},{data:a}=await f.a.post("/api/post/comment_post",{userId:g._id,postId:e,comment:b,liked:x},s);"OK"===a.state&&t({title:"Success!",description:"Post commented successfully.",status:"success",position:"top-right",duration:5e3,isClosable:!0})}catch(s){t({title:"Error Occured!",description:"Failed to commenting post",status:"error",duration:5e3,isClosable:!0,position:"top-right"})}},children:"Submit"})}),Object(v.jsx)(ke.a,{md:5})]})]})]})})})})})},Le=s(382),Me=s(6),Re=s.n(Me);class We extends c.a.Component{constructor(e){super(e),this.state={data:!1},this.handleClick=this.handleClick.bind(this),this.handleChatClick=this.handleChatClick.bind(this)}handleClick(){this.setState({data:!1}),console.log(this.state.data)}handleChatClick(){this.setState({data:!0}),console.log(this.state.data)}componentDidMount(){console.log("Component mounted"),"/chats"===window.location.pathname&&this.setState({data:!0})}componentDidUpdate(e,t){console.log("Component updated"),this.state.data!==t.data&&console.log("Data state has changed")}componentWillUnmount(){console.log("Component will unmount")}logoutHandler(){localStorage.removeItem("userInfo"),window.location.href="/"}render(){return Object(v.jsxs)("div",{id:"mySidebar",name:"mySidebar",className:Re()("sidebar","shadow","position-relative",{"is-open":this.props.isOpen}),children:[!0===this.state.data&&Object(v.jsx)("div",{id:"logo",className:"d-flex justify-content-between",children:Object(v.jsxs)(we.b,{to:"#",className:"logo d-flex align-items-center",children:[Object(v.jsx)("img",{src:A,alt:"logo",width:"70px",height:"60px",className:"fa fa-beat"}),Object(v.jsx)("h1",{className:"text-uppercase d-none d-sm-none d-md-none d-lg-inline",style:{fontSize:"1.3rem",color:"#012970"},children:"travelbooth"})]})}),Object(v.jsx)(Se.a,{variant:"link",className:"position-absolute top-0 end-0 d-none d-sm-none d-md-none d-lg-inline",style:{marginTop:!0!==this.state.data&&"75px"},onClick:this.props.toggle,children:Object(v.jsx)("i",{className:"fa fa-list toggle-icon",style:{color:"#012970"},pull:"right"})}),Object(v.jsxs)(Le.a,{className:"px-4 pt-2",style:{marginTop:!0!==this.state.data&&"75px"},children:[Object(v.jsx)(we.b,{to:"/capture",className:"w-100",onClick:this.handleClick,children:Object(v.jsx)(Le.a.Item,{children:Object(v.jsxs)(Le.a.Link,{href:"/capture",children:[Object(v.jsx)("i",{className:"fa fa-cloud-upload sidebar-item-icon"}),Object(v.jsx)("span",{className:"sidebar-item-text d-none d-sm-none d-md-none d-lg-inline",children:"Capture"})]})})}),Object(v.jsx)(we.b,{to:"/posts",className:"w-100",onClick:this.handleClick,children:Object(v.jsx)(Le.a.Item,{children:Object(v.jsxs)(Le.a.Link,{href:"/posts",children:[Object(v.jsx)("i",{className:"fa fa-home sidebar-item-icon"}),Object(v.jsx)("span",{className:"sidebar-item-text d-none d-sm-none d-md-none d-lg-inline",children:"My Posts"})]})})}),Object(v.jsx)(we.b,{to:"/blog",className:"w-100",onClick:this.handleClick,children:Object(v.jsx)(Le.a.Item,{children:Object(v.jsxs)(Le.a.Link,{href:"/blog",children:[Object(v.jsx)("i",{className:"fas fa-blog sidebar-item-icon"}),Object(v.jsx)("span",{className:"sidebar-item-text d-none d-sm-none d-md-none d-lg-inline",children:"Blogs"})]})})}),Object(v.jsx)(we.b,{to:"/explore",className:"w-100",onClick:this.handleClick,children:Object(v.jsx)(Le.a.Item,{className:"w-100",children:Object(v.jsxs)(Le.a.Link,{href:"/explore",children:[Object(v.jsx)("i",{className:"fa fa-eye sidebar-item-icon"}),Object(v.jsx)("span",{className:"sidebar-item-text d-none d-sm-none d-md-none d-lg-inline",children:"Explore"})]})})}),Object(v.jsx)(we.b,{to:"/chats",className:"w-100",onClick:this.handleChatClick,children:Object(v.jsx)(Le.a.Item,{className:"w-100",children:Object(v.jsxs)(Le.a.Link,{href:"/chats",children:[Object(v.jsx)("i",{className:"fa fa-comment sidebar-item-icon"}),Object(v.jsx)("span",{className:"sidebar-item-text d-none d-sm-none d-md-none d-lg-inline",children:"Chat"})]})})}),Object(v.jsx)(we.b,{to:"/notifications",className:"w-100",onClick:this.handleClick,children:Object(v.jsx)(Le.a.Item,{className:"w-100",children:Object(v.jsxs)(Le.a.Link,{href:"/notifications",children:[Object(v.jsx)("i",{className:"fa fa-bell sidebar-item-icon"}),Object(v.jsx)("span",{className:"sidebar-item-text d-none d-sm-none d-md-none d-lg-inline",children:"Notifications"})]})})}),Object(v.jsx)(we.b,{to:"/account",className:"w-100",onClick:this.handleClick,children:Object(v.jsx)(Le.a.Item,{className:"w-100",children:Object(v.jsxs)(Le.a.Link,{href:"/account",children:[Object(v.jsx)("i",{className:"fa fa-user sidebar-item-icon"}),Object(v.jsx)("span",{className:"sidebar-item-text d-none d-sm-none d-md-none d-lg-inline",children:"User Account"})]})})}),Object(v.jsx)(we.b,{to:"/aboutus",className:"w-100",onClick:this.handleClick,children:Object(v.jsx)(Le.a.Item,{children:Object(v.jsxs)(Le.a.Link,{href:"/aboutus",children:[Object(v.jsx)("i",{className:"fa fa-users sidebar-item-icon"}),Object(v.jsx)("span",{className:"sidebar-item-text d-none d-sm-none d-md-none d-lg-inline",children:"About Us"})]})})}),Object(v.jsx)(Le.a.Item,{onClick:this.logoutHandler,className:"w-100",children:Object(v.jsxs)(Le.a.Link,{children:[Object(v.jsx)("i",{className:"fa fa-sign-out sidebar-item-icon"}),Object(v.jsx)("span",{className:"sidebar-item-text d-none d-sm-none d-md-none d-lg-inline",children:"Logout"})]})})]})]})}}var Ue=We;class Ye extends c.a.Component{logoutHandler(){localStorage.removeItem("userInfo"),window.location.href="/"}render(){return Object(v.jsxs)("div",{id:"AdminSidebar",name:"AdminSidebar",className:Re()("sidebar","shadow","position-relative","mt-6",{"is-open":this.props.isOpen}),children:[Object(v.jsx)(Se.a,{variant:"link",className:"position-absolute top-0 end-0 d-none d-sm-none d-md-none d-lg-inline",style:{marginTop:"75px"},onClick:this.props.toggle,children:Object(v.jsx)("i",{className:"fa fa-list toggle-icon",style:{color:"#012970"},pull:"right"})}),Object(v.jsxs)(Le.a,{className:"px-4 pt-2",style:{marginTop:"75px"},children:[Object(v.jsx)(we.b,{to:"/admin/dashboard",className:"w-100",children:Object(v.jsx)(Le.a.Item,{className:"w-100",children:Object(v.jsxs)(Le.a.Link,{href:"/admin/dashboard",className:"",children:[Object(v.jsx)("i",{className:"bi bi-grid sidebar-item-icon"}),Object(v.jsx)("span",{className:"sidebar-item-text d-none d-sm-none d-md-none d-lg-inline",children:"Dashboard"})]})})}),Object(v.jsx)(we.b,{to:"/admin/users",className:"w-100",children:Object(v.jsx)(Le.a.Item,{className:"w-100",children:Object(v.jsxs)(Le.a.Link,{href:"/admin/users",children:[Object(v.jsx)("i",{className:"fa fa-users sidebar-item-icon"}),Object(v.jsx)("span",{className:"sidebar-item-text d-none d-sm-none d-md-none d-lg-inline",children:"Users"})]})})}),Object(v.jsx)(we.b,{to:"/admin/posts",className:"w-100",children:Object(v.jsx)(Le.a.Item,{className:"w-100",children:Object(v.jsxs)(Le.a.Link,{href:"/admin/posts",children:[Object(v.jsx)("i",{className:"fa fa-cloud-upload sidebar-item-icon"}),Object(v.jsx)("span",{className:"sidebar-item-text d-none d-sm-none d-md-none d-lg-inline",children:"Posts"})]})})}),Object(v.jsx)(we.b,{to:"/admin/blog",className:"w-100",children:Object(v.jsx)(Le.a.Item,{className:"w-100",children:Object(v.jsxs)(Le.a.Link,{href:"/admin/blog",children:[Object(v.jsx)("i",{className:"fa fa-blog sidebar-item-icon"}),Object(v.jsx)("span",{className:"sidebar-item-text d-none d-sm-none d-md-none d-lg-inline",children:"Blogs"})]})})}),Object(v.jsx)(we.b,{to:"/admin/profile",className:"w-100",children:Object(v.jsx)(Le.a.Item,{className:"w-100",children:Object(v.jsxs)(Le.a.Link,{href:"/admin/profile",children:[Object(v.jsx)("i",{className:"fa fa-user sidebar-item-icon"}),Object(v.jsx)("span",{className:"sidebar-item-text d-none d-sm-none d-md-none d-lg-inline",children:"Profile"})]})})}),Object(v.jsx)(we.b,{to:"/admin/enquiry",className:"w-100",children:Object(v.jsx)(Le.a.Item,{className:"w-100",children:Object(v.jsxs)(Le.a.Link,{href:"/admin/enquiry",children:[Object(v.jsx)("i",{className:"bi bi-question-circle sidebar-item-icon"}),Object(v.jsx)("span",{className:"sidebar-item-text d-none d-sm-none d-md-none d-lg-inline",children:"Enquiry"})]})})}),Object(v.jsx)(Le.a.Item,{onClick:this.logoutHandler,className:"w-100",children:Object(v.jsxs)(Le.a.Link,{children:[Object(v.jsx)("i",{className:"fa fa-sign-out sidebar-item-icon"}),Object(v.jsx)("span",{className:"sidebar-item-text d-none d-sm-none d-md-none d-lg-inline",children:"Logout"})]})})]})]})}}var Ge=Ye;var Xe=()=>{const{id:e}=Object(N.useParams)(),t=Object(y.a)(),[s,c]=Object(a.useState)(""),[i,n]=Object(a.useState)(""),[l,r]=Object(a.useState)(""),[o,d]=Object(a.useState)(""),[j,m]=Object(a.useState)(),[b,h]=Object(a.useState)(!1),[x,p]=Object(a.useState)(!1),[u,O]=Object(a.useState)(""),g=JSON.parse(localStorage.getItem("userInfo")),S=async()=>{try{const t={headers:{Authorization:"Bearer ".concat(g.token)}},s=(await f.a.post("/api/post/edit",{id:e},t)).data.message;s&&(s[0].sender.email===g.email&&p(!0),O(s[0].sender.name),c(s[0].title),n(s[0].details),r(s[0].location),m(s[0].rating),h(s[0].isPublic),d(s[0].image))}catch(s){t({title:"Error Ocurred!",description:"Failed to Load Data",status:"error",duration:5e3,isClosable:!0,position:"top-right"})}};Object(a.useEffect)((()=>{const e=JSON.parse(localStorage.getItem("userInfo"));e&&(!0===e.isAdmin?(document.getElementById("mySidebar").style.display="none",document.getElementById("AdminSidebar").style.display="block"):(document.getElementById("mySidebar").style.display="block",document.getElementById("AdminSidebar").style.display="none"));"true"===localStorage.getItem("isDarkMode")&&(document.documentElement.dataset.bsTheme="dark"),S()}),[]);return Object(v.jsx)("div",{className:"capturePage-container w-100",children:Object(v.jsx)("div",{className:"content-container",style:{paddingTop:"75px"},children:Object(v.jsxs)("div",{className:"post",children:[x?Object(v.jsxs)("div",{className:"post-title",children:["My POST : ",s]}):Object(v.jsxs)("div",{className:"post-title",children:[u,"'s POST : ",s]}),Object(v.jsx)("div",{className:"post-image-container",children:Object(v.jsx)("img",{src:o,alt:"",className:"post-image"})}),Object(v.jsxs)("div",{className:"post-details",children:["Details: ",i]}),Object(v.jsxs)("div",{className:"post-details post-locations",children:["Location: ",l]}),Object(v.jsxs)("div",{className:"post-rating",children:["Rating : ",Object(v.jsx)(Je,{value:j})]}),Object(v.jsxs)("div",{className:"post-details",children:["Privacy: ",b?"Public":"Private"]}),Object(v.jsx)("div",{className:"post-image-container",children:Object(v.jsx)(Se.a,{variant:"primary",className:"my-2",onClick:async()=>{window.history.back()},children:"Go Back"})})]})})})};s(329);var Ve=()=>{const[e,t]=Object(a.useState)([]),[s,c]=Object(a.useState)(0),[i,n]=Object(a.useState)(0),[l,r]=Object(a.useState)(0),[o,d]=Object(a.useState)(0),[j,m]=Object(a.useState)([]);return Object(a.useEffect)((()=>{(async()=>{const e=JSON.parse(localStorage.getItem("userInfo"));e&&(!0===e.isAdmin?(document.getElementById("mySidebar").style.display="none",document.getElementById("AdminSidebar").style.display="block"):(document.getElementById("mySidebar").style.display="block",document.getElementById("AdminSidebar").style.display="none"));try{const s={headers:{Authorization:"Bearer ".concat(e.token)}},a=Date.now(),i=new Date(a),{data:n}=await f.a.post("/api/admin/posts",{today:i.toISOString().substring(0,10)},s);t(n.message),c(n.message.length)}catch(s){}})(),(async()=>{const e=JSON.parse(localStorage.getItem("userInfo"));try{const t={headers:{Authorization:"Bearer ".concat(e.token)}},s=Date.now(),a=new Date(s),{data:c}=await f.a.post("/api/admin/chats",{today:a.toISOString().substring(0,10)},t);n(c.message.length)}catch(t){}})(),(async()=>{const e=JSON.parse(localStorage.getItem("userInfo"));try{const t={headers:{Authorization:"Bearer ".concat(e.token)}},s=Date.now(),a=new Date(s),{data:c}=await f.a.post("/api/admin/users",{today:a.toISOString().substring(0,10)},t);r(c.message.length)}catch(t){}})(),(async()=>{const e=JSON.parse(localStorage.getItem("userInfo"));try{const t={headers:{Authorization:"Bearer ".concat(e.token)}},{data:s}=await f.a.get("/api/blog",t);d(s.length)}catch(t){}})(),(async()=>{const e=JSON.parse(localStorage.getItem("userInfo"));try{const t={headers:{Authorization:"Bearer ".concat(e.token)}},{data:s}=await f.a.get("/api/admin/top_posts",t);m(s.message)}catch(t){}})()}),[]),Object(v.jsx)("div",{className:"dashboard-container w-100",children:Object(v.jsxs)("div",{className:"dashboard-content-container",style:{paddingTop:"100px"},children:[Object(v.jsx)("div",{className:"pagetitle mb-3",children:Object(v.jsx)("h1",{children:"Admin Dashboard"})}),Object(v.jsx)("section",{className:"section dashboard",children:Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("div",{className:"col-lg-8",children:Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("div",{className:"col-xxl-6 col-md-6",children:Object(v.jsx)("div",{className:"card info-card sales-card",children:Object(v.jsxs)("div",{className:"card-body",children:[Object(v.jsxs)("h5",{className:"card-title",children:["Posts ",Object(v.jsx)("span",{children:"| Today"})]}),Object(v.jsxs)("div",{className:"d-flex align-items-center",children:[Object(v.jsx)("div",{className:"card-icon rounded-circle d-flex align-items-center justify-content-center",children:Object(v.jsx)("i",{className:"bi bi-hearts"})}),Object(v.jsx)("div",{className:"ps-3",children:Object(v.jsx)("h6",{children:s})})]})]})})}),Object(v.jsx)("div",{className:"col-xxl-6 col-md-6",children:Object(v.jsx)("div",{className:"card info-card revenue-card",children:Object(v.jsxs)("div",{className:"card-body",children:[Object(v.jsxs)("h5",{className:"card-title",children:["Chats ",Object(v.jsx)("span",{children:"| Today"})]}),Object(v.jsxs)("div",{className:"d-flex align-items-center",children:[Object(v.jsx)("div",{className:"card-icon rounded-circle d-flex align-items-center justify-content-center",children:Object(v.jsx)("i",{className:"bi bi-chat-heart"})}),Object(v.jsx)("div",{className:"ps-3",children:Object(v.jsx)("h6",{children:i})})]})]})})}),Object(v.jsx)("div",{className:"col-xxl-6 col-md-6",children:Object(v.jsx)("div",{className:"card info-card customers-card",children:Object(v.jsxs)("div",{className:"card-body",children:[Object(v.jsxs)("h5",{className:"card-title",children:["Users ",Object(v.jsx)("span",{children:"| This Year"})]}),Object(v.jsxs)("div",{className:"d-flex align-items-center",children:[Object(v.jsx)("div",{className:"card-icon rounded-circle d-flex align-items-center justify-content-center",children:Object(v.jsx)("i",{className:"bi bi-people"})}),Object(v.jsx)("div",{className:"ps-3",children:Object(v.jsx)("h6",{children:l})})]})]})})}),Object(v.jsx)("div",{className:"col-xxl-6 col-md-6",children:Object(v.jsx)("div",{className:"card info-card sales-card",children:Object(v.jsxs)("div",{className:"card-body",children:[Object(v.jsxs)("h5",{className:"card-title",children:["Blogs ",Object(v.jsx)("span",{children:"| Total"})]}),Object(v.jsxs)("div",{className:"d-flex align-items-center",children:[Object(v.jsx)("div",{className:"card-icon rounded-circle d-flex align-items-center justify-content-center",children:Object(v.jsx)("i",{className:"bi bi-pencil-square text-info"})}),Object(v.jsx)("div",{className:"ps-3",children:Object(v.jsx)("h6",{children:o})})]})]})})}),Object(v.jsx)("div",{className:"col-12",children:Object(v.jsx)("div",{className:"card top-selling overflow-auto",children:Object(v.jsxs)("div",{className:"card-body pb-0",children:[Object(v.jsxs)("h5",{className:"card-title",children:["Posts ",Object(v.jsx)("span",{children:"| Today"})]}),Object(v.jsxs)("table",{className:"table table-borderless",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{scope:"col",children:"Preview"}),Object(v.jsx)("th",{scope:"col",children:"Title"}),Object(v.jsx)("th",{scope:"col",children:"Location"}),Object(v.jsx)("th",{scope:"col",children:"Sender"})]})}),Object(v.jsx)("tbody",{children:e.map(((e,t)=>Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{scope:"row",children:Object(v.jsx)("img",{src:e.image,alt:""})}),Object(v.jsx)("td",{children:Object(v.jsx)("span",{className:"text-primary fw-bold",children:e.title})}),Object(v.jsx)("td",{children:e.location}),Object(v.jsx)("td",{className:"fw-bold",children:e.sender.name})]},t)))})]})]})})})]})}),Object(v.jsx)("div",{className:"col-lg-4",children:Object(v.jsx)("div",{className:"card",children:Object(v.jsxs)("div",{className:"card-body pb-0",children:[Object(v.jsx)("h5",{className:"card-title",children:"Top Commented Posts"}),Object(v.jsx)("div",{className:"news",children:j.map(((e,t)=>Object(v.jsxs)("div",{className:"post-item clearfix mb-2",children:[Object(v.jsx)("img",{src:e.image,alt:""}),Object(v.jsxs)("h4",{children:[e.title,Object(v.jsx)("span",{className:"badge bg-info text-white rounded ms-1",children:e.reviews.length})]}),Object(v.jsx)("p",{children:e.details})]},t)))})]})})})]})})]})})};s(330);var Ke=()=>{const[e,t]=Object(a.useState)([]),[s,c]=Object(a.useState)(0),[i,n]=Object(a.useState)(!1),l=Object(y.a)(),r=JSON.parse(localStorage.getItem("userInfo"));Object(a.useEffect)((()=>{(async()=>{const e=JSON.parse(localStorage.getItem("userInfo"));try{e&&(!0===e.isAdmin?(document.getElementById("mySidebar").style.display="none",document.getElementById("AdminSidebar").style.display="block"):(document.getElementById("mySidebar").style.display="block",document.getElementById("AdminSidebar").style.display="none"));const s={headers:{Authorization:"Bearer ".concat(e.token)}},{data:a}=await f.a.post("/api/admin/users",{today:"ALL"},s);t(a.message),c(a.message.length)}catch(s){}})()}),[i]);const o=async e=>{const t={headers:{Authorization:"Bearer ".concat(r.token)}};await f.a.delete("/api/admin/users/".concat(e),t).then((e=>{l({title:"Success!",description:"Deleted Successfully!",status:"success",position:"top-right",duration:5e3,isClosable:!0}),n(!i)}))};return Object(v.jsx)("div",{className:"dashboard-container w-100",children:Object(v.jsxs)("div",{className:"dashboard-content-container",style:{paddingTop:"100px"},children:[Object(v.jsx)("div",{className:"pagetitle mb-3",children:Object(v.jsx)("h1",{children:"Users"})}),Object(v.jsx)("section",{className:"section dashboard",children:Object(v.jsx)("div",{className:"row",children:Object(v.jsx)("div",{className:"col-12",children:Object(v.jsx)("div",{className:"card top-selling overflow-auto",children:Object(v.jsxs)("div",{className:"card-body pb-0",children:[Object(v.jsxs)("h5",{className:"card-title",children:["Users ",Object(v.jsxs)("span",{children:["| ",s]})]}),Object(v.jsxs)("table",{className:"table table-borderless",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{scope:"col",children:"Preview"}),Object(v.jsx)("th",{scope:"col",children:"Name"}),Object(v.jsx)("th",{scope:"col",children:"Email"}),Object(v.jsx)("th",{scope:"col",children:"Phone"}),Object(v.jsx)("th",{scope:"col",children:"Start Date"}),Object(v.jsx)("th",{})]})}),Object(v.jsx)("tbody",{children:e.map(((e,t)=>Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{className:"td-image",children:Object(v.jsx)("img",{src:e.pic,alt:""})}),Object(v.jsx)("td",{children:Object(v.jsx)("span",{className:"text-primary fw-bold",children:e.name})}),Object(v.jsx)("td",{children:e.email}),Object(v.jsx)("td",{children:e.phone}),Object(v.jsx)("td",{className:"fw-bold",children:String(e.createdAt).substring(0,10)}),Object(v.jsx)("td",{children:Object(v.jsx)("button",{className:"btn btn-sm btn-danger",onClick:t=>o(e._id),children:Object(v.jsx)("i",{className:"bi bi-trash"})})})]},t)))})]})]})})})})})]})})};s(331);var _e=()=>{const[e,t]=Object(a.useState)([]),[s,c]=Object(a.useState)(0),[i,n]=Object(a.useState)(!1),l=Object(y.a)(),r=JSON.parse(localStorage.getItem("userInfo"));Object(a.useEffect)((()=>{(async()=>{const e=JSON.parse(localStorage.getItem("userInfo"));e&&(!0===e.isAdmin?(document.getElementById("mySidebar").style.display="none",document.getElementById("AdminSidebar").style.display="block"):(document.getElementById("mySidebar").style.display="block",document.getElementById("AdminSidebar").style.display="none"));try{const s={headers:{Authorization:"Bearer ".concat(e.token)}},{data:a}=await f.a.post("/api/admin/posts",{today:"ALL"},s);t(a.message),c(a.message.length)}catch(s){}})()}),[i]);return Object(v.jsx)("div",{className:"dashboard-container w-100",children:Object(v.jsxs)("div",{className:"dashboard-content-container",style:{paddingTop:"100px"},children:[Object(v.jsx)("div",{className:"pagetitle mb-3",children:Object(v.jsx)("h1",{children:"Posts"})}),Object(v.jsx)("section",{className:"section dashboard",children:Object(v.jsx)("div",{className:"row",children:Object(v.jsx)("div",{className:"col-12",children:Object(v.jsx)("div",{className:"card top-selling overflow-auto",children:Object(v.jsxs)("div",{className:"posts-card-body pb-0",children:[Object(v.jsxs)("h5",{className:"card-title p-3",children:["Posts ",Object(v.jsxs)("span",{children:["| ",s]})]}),Object(v.jsxs)("table",{className:"table table-borderless",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{scope:"col",children:"Preview"}),Object(v.jsx)("th",{scope:"col",children:"Title"}),Object(v.jsx)("th",{scope:"col",children:"Location"}),Object(v.jsx)("th",{scope:"col",children:"Sender"}),Object(v.jsx)("th",{scope:"col"})]})}),Object(v.jsx)("tbody",{children:e.map(((e,t)=>{var s;return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{className:"td-image",children:Object(v.jsx)("img",{src:e.image,alt:""})}),Object(v.jsx)("td",{children:Object(v.jsx)("span",{className:"text-primary fw-bold",children:e.title})}),Object(v.jsx)("td",{children:e.location}),Object(v.jsx)("td",{className:"fw-bold",children:null===(s=e.sender)||void 0===s?void 0:s.name}),Object(v.jsx)("td",{children:Object(v.jsx)("button",{className:"btn btn-sm btn-danger",onClick:t=>(async e=>{const t={headers:{Authorization:"Bearer ".concat(r.token)}};await f.a.delete("/api/admin/posts/".concat(e),t).then((e=>{l({title:"Success!",description:"Deleted Successfully!",status:"success",position:"top-right",duration:5e3,isClosable:!0}),n(!i)}))})(e._id),children:Object(v.jsx)("i",{className:"bi bi-trash"})})})]},t)}))})]})]})})})})})]})})};s(332);var Ze=()=>{const[e,t]=Object(a.useState)(""),[s,c]=Object(a.useState)(""),[i,n]=Object(a.useState)(""),[l,r]=Object(a.useState)(""),[o,d]=Object(a.useState)(""),[j,m]=Object(a.useState)(""),b=Object(y.a)(),h=JSON.parse(localStorage.getItem("userInfo"));return Object(a.useEffect)((()=>{(async()=>{const e=JSON.parse(localStorage.getItem("userInfo"));e&&(!0===e.isAdmin?(document.getElementById("mySidebar").style.display="none",document.getElementById("AdminSidebar").style.display="block"):(document.getElementById("mySidebar").style.display="block",document.getElementById("AdminSidebar").style.display="none"));try{const s={headers:{Authorization:"Bearer ".concat(e.token)}},{data:a}=await f.a.get("/api/admin/faqs",s);a.message.forEach((e=>{1===e.no&&(t(e.question),r(e.answer)),2===e.no&&(c(e.question),d(e.answer)),3===e.no&&(n(e.question),m(e.answer))}))}catch(s){}})()}),[]),Object(v.jsx)("div",{className:"dashboard-container w-100",children:Object(v.jsxs)("div",{className:"dashboard-content-container",style:{paddingTop:"100px"},children:[Object(v.jsx)("div",{className:"pagetitle mb-3",children:Object(v.jsx)("h1",{children:"Enquiry - FAQs"})}),Object(v.jsx)("section",{className:"section dashboard",children:Object(v.jsx)("div",{className:"row",children:Object(v.jsx)("div",{className:"col-12",children:Object(v.jsx)("div",{className:"card",children:Object(v.jsx)("div",{className:"card-body",children:Object(v.jsxs)("div",{className:"row g-3",children:[Object(v.jsx)("div",{className:"col-md-4",children:Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("h5",{className:"card-title",children:"FAQ 1"}),Object(v.jsx)("div",{className:"col-md-12",children:Object(v.jsxs)("div",{className:"form-floating",children:[Object(v.jsx)("input",{type:"text",className:"form-control",id:"floatingName",placeholder:"Your Name",onChange:e=>t(e.target.value),value:e}),Object(v.jsx)("label",{htmlFor:"floatingName",children:"Question 1"})]})}),Object(v.jsx)("div",{className:"col-12 py-2",children:Object(v.jsxs)("div",{className:"form-floating",children:[Object(v.jsx)("textarea",{className:"faq-textarea form-control",placeholder:"Address",id:"floatingTextarea",style:{height:"100px"},onChange:e=>r(e.target.value),value:l}),Object(v.jsx)("label",{htmlFor:"floatingTextarea",children:"Answer 1"})]})})]})}),Object(v.jsx)("div",{className:"col-md-4",children:Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("h5",{className:"card-title",children:"FAQ 2"}),Object(v.jsx)("div",{className:"col-md-12",children:Object(v.jsxs)("div",{className:"form-floating",children:[Object(v.jsx)("input",{type:"text",className:"form-control",id:"floatingName",placeholder:"Your Name",onChange:e=>c(e.target.value),value:s}),Object(v.jsx)("label",{htmlFor:"floatingName",children:"Question 2"})]})}),Object(v.jsx)("div",{className:"col-12 py-2",children:Object(v.jsxs)("div",{className:"form-floating",children:[Object(v.jsx)("textarea",{className:"faq-textarea form-control",placeholder:"Address",id:"floatingTextarea",style:{height:"100px"},onChange:e=>d(e.target.value),value:o}),Object(v.jsx)("label",{htmlFor:"floatingTextarea",children:"Answer 2"})]})}),Object(v.jsxs)("div",{className:"text-center faq-buttons py-2",children:[Object(v.jsx)("button",{type:"submit",className:"btn btn-success",onClick:async()=>{if(""!==e&&""!==s&&""!==i&&""!==l&&""!==o&&""!==j)try{const a={headers:{Authorization:"Bearer ".concat(h.token)}},x={question1:e,question2:s,question3:i,answer1:l,answer2:o,answer3:j},{data:p}=await f.a.post("/api/admin/update_faqs",x,a);p.message.forEach((e=>{1===e.no&&(t(e.question),r(e.answer)),2===e.no&&(c(e.question),d(e.answer)),3===e.no&&(n(e.question),m(e.answer))})),"OK"===p.state&&b({title:"Successful!",description:"FAQs are updated successfully.",status:"success",duration:5e3,isClosable:!0,position:"top-right"})}catch(a){}else b({title:"Error Occured!",description:"All Field Value must input correctly.",status:"error",duration:5e3,isClosable:!0,position:"top-right"})},children:"Submit"}),Object(v.jsx)("button",{type:"reset",className:"btn btn-danger",onClick:async()=>{t(""),c(""),n(""),r(""),d(""),m("")},children:"Reset"})]})]})}),Object(v.jsx)("div",{className:"col-md-4",children:Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("h5",{className:"card-title",children:"FAQ 3"}),Object(v.jsx)("div",{className:"col-md-12",children:Object(v.jsxs)("div",{className:"form-floating",children:[Object(v.jsx)("input",{type:"text",className:"form-control",id:"floatingName",placeholder:"Your Name",onChange:e=>n(e.target.value),value:i}),Object(v.jsx)("label",{htmlFor:"floatingName",children:"Question 3"})]})}),Object(v.jsx)("div",{className:"col-12 py-2",children:Object(v.jsxs)("div",{className:"form-floating",children:[Object(v.jsx)("textarea",{className:"faq-textarea form-control",placeholder:"Address",id:"floatingTextarea",style:{height:"100px"},onChange:e=>m(e.target.value),value:j}),Object(v.jsx)("label",{htmlFor:"floatingTextarea",children:"Answer 3"})]})})]})})]})})})})})})]})})},Qe=s(72),$e=s(206),et=s.n($e);var tt=()=>{const e=Object(N.useLocation)();return Object(v.jsx)(v.Fragment,{children:"/"!==e.pathname&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(et.a,{smooth:!0,color:"white",className:"d-flex align-items-center justify-content-center",style:{backgroundColor:"#0d67b5"}}),Object(v.jsx)("div",{className:"container-fluid text-black px-sm-3 px-md-5 p-2 footer",children:Object(v.jsx)("div",{className:"container text-center",children:Object(v.jsxs)("div",{className:"d-flex justify-content-center mb-2",children:[Object(v.jsx)(Qe.Link,{className:"btn btn-light btn-social mx-2",style:{border:"2px solid #0d67b5"},children:Object(v.jsx)("i",{className:"fab fa-twitter"})}),Object(v.jsx)(Qe.Link,{className:"btn btn-light btn-social mx-2",style:{border:"2px solid #0d67b5"},children:Object(v.jsx)("i",{className:"fab fa-facebook-f"})}),Object(v.jsx)(Qe.Link,{className:"btn btn-light btn-social mx-2",style:{border:"2px solid #0d67b5"},children:Object(v.jsx)("i",{className:"fab fa-linkedin-in"})}),Object(v.jsx)(Qe.Link,{className:"btn btn-light btn-social mx-2",style:{border:"2px solid #0d67b5"},children:Object(v.jsx)("i",{className:"fab fa-instagram"})})]})})})]})})};s(190);var st=e=>{let{blog:t}=e;const s=t.createdAt.slice(5,7),a=t.createdAt.slice(8,10);let c;switch(s){case"01":c="Jan";break;case"02":c="Feb";break;case"03":c="Mar";break;case"04":c="Apr";break;case"05":c="May";break;case"06":c="Jun";break;case"07":c="Jul";break;case"08":c="Aug";break;case"09":c="Sep";break;case"10":c="Oct";break;case"11":c="Nov";break;case"12":c="Dec"}return Object(v.jsxs)("div",{className:"col-lg-4 col-md-4 mb-5",children:[Object(v.jsxs)("div",{className:"position-relative mb-4",children:[Object(v.jsx)("img",{className:"img-fluid rounded w-100",src:t.image,alt:"blog"}),Object(v.jsxs)("div",{className:"blog-date",children:[Object(v.jsx)("h4",{className:"font-weight-bold mb-n1",children:a}),Object(v.jsx)("small",{className:"text-white text-uppercase",children:c})]})]}),Object(v.jsx)("h5",{className:"font-weight-medium mb-4",children:t.title}),Object(v.jsx)(we.b,{to:"/blogs/".concat(t._id),className:"btn btn-sm btn-outline-primary py-2",children:"Read More"})]})};var at=()=>{const[e,t]=Object(a.useState)([]),[s,c]=Object(a.useState)(1);Object(a.useEffect)((()=>{const e=JSON.parse(localStorage.getItem("userInfo"));e&&(!0===e.isAdmin?(document.getElementById("mySidebar").style.display="none",document.getElementById("AdminSidebar").style.display="block"):(document.getElementById("mySidebar").style.display="block",document.getElementById("AdminSidebar").style.display="none"));(async()=>{try{const s={headers:{Authorization:"Bearer ".concat(e.token)}},a=await f.a.get("/api/blog",s);t(a.data),console.log(a.data)}catch(s){console.log(s)}})()}),[]);const i=t=>{t>0&&t<=Math.ceil(e.length/6)&&t!==s&&c(t)};return Object(v.jsx)("div",{className:"container-fluid pt-1",id:"blog",style:{backgroundColor:"#f6f6fe",minHeight:"100vh"},children:Object(v.jsxs)("div",{className:"container",style:{marginTop:"75px"},children:[Object(v.jsxs)("div",{className:"position-relative d-flex align-items-center justify-content-center pb-2",children:[Object(v.jsx)("h1",{className:"display-1 text-uppercase text-white",style:{WebkitTextStroke:"1px #dee2e6",fontSize:"9rem"},children:"Blog"}),Object(v.jsx)("h1",{className:"position-absolute text-uppercase text-primary",style:{fontSize:"3rem"},children:"Latest Blog"})]}),Object(v.jsx)("div",{className:"row",children:e.length>0&&e.slice(6*s-6,6*s).map((e=>Object(v.jsx)(st,{blog:e},e._id)))}),Object(v.jsx)("div",{className:"row mb-3",children:e.length>0&&Object(v.jsx)("nav",{"aria-label":"Page navigation example",children:Object(v.jsxs)("ul",{className:"pagination justify-content-center",children:[Object(v.jsx)("li",{className:"page-item",children:Object(v.jsx)("span",{className:"page-link",onClick:()=>i(s-1),"aria-label":"Previous",children:Object(v.jsx)("span",{"aria-hidden":"true",children:"\xab"})})}),[...Array(Math.ceil(e.length/6))].map(((e,t)=>Object(v.jsx)("li",{className:"page-item ".concat(t+1===s?"active":""),children:Object(v.jsx)("span",{className:"page-link",onClick:()=>i(t+1),children:t+1})},t+1))),Object(v.jsx)("li",{className:"page-item",children:Object(v.jsx)("span",{className:"page-link",onClick:()=>i(s+1),"aria-label":"Next",children:Object(v.jsx)("span",{"aria-hidden":"true",children:"\xbb"})})})]})})})]})})},ct=s.p+"static/media/about.74c5962d.jpg";var it=()=>(Object(a.useEffect)((()=>{const e=JSON.parse(localStorage.getItem("userInfo"));e&&(!0===e.isAdmin?(document.getElementById("mySidebar").style.display="none",document.getElementById("AdminSidebar").style.display="block"):(document.getElementById("mySidebar").style.display="block",document.getElementById("AdminSidebar").style.display="none"))}),[]),Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{className:"container-fluid pt-2 pb-5",id:"about",style:{backgroundColor:"white"},children:Object(v.jsxs)("div",{className:"container",style:{marginTop:"75px"},children:[Object(v.jsxs)("div",{className:"position-relative d-flex align-items-center justify-content-center pb-3",children:[Object(v.jsx)("h1",{className:"display-1 text-uppercase text-white",style:{WebkitTextStroke:"1px #dee2e6",fontSize:"7rem"},children:"About"}),Object(v.jsx)("h1",{className:"position-absolute text-uppercase text-primary",style:{fontSize:"3.5rem"},children:"About Us"})]}),Object(v.jsxs)("div",{className:"row align-items-center",children:[Object(v.jsx)("div",{className:"col-lg-5 pb-4 pb-lg-0",children:Object(v.jsx)("img",{className:"img-fluid rounded w-100",src:ct,alt:"me"})}),Object(v.jsxs)("div",{className:"col-lg-7",children:[Object(v.jsx)("h1",{className:"mb-4",children:"Travel Booth"}),Object(v.jsx)("p",{children:"Travel company"}),Object(v.jsx)("br",{}),Object(v.jsxs)("div",{className:"row mb-3",children:[Object(v.jsx)("div",{className:"col-sm-6 py-2",children:Object(v.jsxs)("h6",{children:["Name: ",Object(v.jsx)("span",{className:"text-secondary",children:"Kate Winslet"})]})}),Object(v.jsx)("div",{className:"col-sm-6 py-2",children:Object(v.jsxs)("h6",{children:["Birthday: ",Object(v.jsx)("span",{className:"text-secondary",children:"1 April 1990"})]})}),Object(v.jsx)("div",{className:"col-sm-6 py-2",children:Object(v.jsxs)("h6",{children:["Degree: ",Object(v.jsx)("span",{className:"text-secondary",children:"Master"})]})}),Object(v.jsx)("div",{className:"col-sm-6 py-2",children:Object(v.jsxs)("h6",{children:["Experience: ",Object(v.jsx)("span",{className:"text-secondary",children:"10 Years"})]})}),Object(v.jsx)("div",{className:"col-sm-6 py-2",children:Object(v.jsxs)("h6",{children:["Phone: ",Object(v.jsx)("span",{className:"text-secondary",children:"+012 345 6789"})]})}),Object(v.jsx)("div",{className:"col-sm-6 py-2",children:Object(v.jsxs)("h6",{children:["Email: ",Object(v.jsx)("span",{className:"text-secondary",children:"info@example.com"})]})}),Object(v.jsx)("div",{className:"col-sm-6 py-2",children:Object(v.jsxs)("h6",{children:["Address: ",Object(v.jsx)("span",{className:"text-secondary",children:"123 Street, New York, USA"})]})}),Object(v.jsx)("div",{className:"col-sm-6 py-2",children:Object(v.jsxs)("h6",{children:["Freelance: ",Object(v.jsx)("span",{className:"text-secondary",children:"Available"})]})})]}),Object(v.jsxs)("span",{className:"position-absolute text-primary",style:{fontSize:"2.5rem"},children:["Message Me ",Object(v.jsx)(Qe.Link,{className:"pe-auto",children:"info@example.com"})]})]})]})]})})}));var nt=()=>{const e=Object(y.a)(),[t,s]=Object(a.useState)(""),[c,i]=Object(a.useState)(""),[n,l]=Object(a.useState)(""),r=Object(N.useHistory)(),o=JSON.parse(localStorage.getItem("userInfo"));Object(a.useEffect)((()=>{o&&(!0===o.isAdmin?(document.getElementById("mySidebar").style.display="none",document.getElementById("AdminSidebar").style.display="block"):(document.getElementById("mySidebar").style.display="block",document.getElementById("AdminSidebar").style.display="none"))}),[o]);return Object(v.jsx)("div",{className:"container-fluid pt-3",id:"contact",style:{backgroundColor:"#f6f6fe",minHeight:"100vh"},children:Object(v.jsxs)("div",{className:"container",style:{marginTop:"75px"},children:[Object(v.jsxs)("div",{className:"position-relative d-flex align-items-center justify-content-center pb-3",children:[Object(v.jsx)("h1",{className:"display-1 text-uppercase text-white",style:{WebkitTextStroke:"1px #dee2e6",fontSize:"7rem"},children:"Blogs"}),Object(v.jsx)("h1",{className:"position-absolute text-uppercase text-primary",style:{fontSize:"2.5rem"},children:"Post Blog"})]}),Object(v.jsx)("div",{className:"row justify-content-center",children:Object(v.jsx)("div",{className:"col-lg-8",children:Object(v.jsxs)("div",{className:"contact-form text-center",children:[Object(v.jsx)("div",{id:"success"}),Object(v.jsxs)("form",{id:"contactForm",noValidate:"novalidate",children:[Object(v.jsx)("div",{className:"form-row",children:Object(v.jsxs)("div",{className:"control-group col-sm-12 mb-3",children:[Object(v.jsx)("input",{type:"text",value:t,onChange:e=>s(e.target.value),className:"form-control p-2 px-4",id:"title",placeholder:"Title",required:"required","data-validation-required-message":"Please enter a title"}),Object(v.jsx)("p",{className:"help-block text-danger"})]})}),Object(v.jsxs)("div",{className:"control-group mb-3",children:[Object(v.jsx)("input",{type:"file",onChange:async t=>{const s=new FormData;s.append("image",t.target.files[0]);try{const t={headers:{Authorization:"Bearer ".concat(o.token)}},a=await f.a.post("/api/upload",s,t);e({title:"Success!",description:a.message,status:"success",duration:5e3,isClosable:!0,position:"top-right"}),l(a.data.image)}catch(a){e({title:"Error Occured!",description:"Failed to Load the locations",status:"error",duration:5e3,isClosable:!0,position:"top-right"})}},className:"form-control p-2 px-4",id:"subject",placeholder:"Subject",required:"required","data-validation-required-message":"Please enter a subject"}),Object(v.jsx)("p",{className:"help-block text-danger"})]}),Object(v.jsxs)("div",{className:"control-group mb-3",children:[Object(v.jsx)("textarea",{className:"form-control py-3 px-4",rows:"7",placeholder:"Content",required:"required",value:c,onChange:e=>i(e.target.value),"data-validation-required-message":"Please enter blog contents"}),Object(v.jsx)("p",{className:"help-block text-danger"})]}),Object(v.jsx)("div",{children:Object(v.jsx)("button",{className:"btn btn-outline-primary w-100",onClick:s=>(async s=>{s.preventDefault(),t||e({title:"Error Occured!",description:"Input the Blog Title",status:"error",position:"top-right",duration:5e3,isClosable:!0}),c||e({title:"Error Occured!",description:"Input Blog Contents",status:"error",position:"top-right",duration:5e3,isClosable:!0}),n||e({title:"Error Occured!",description:"Import Blog Image",status:"error",position:"top-right",duration:5e3,isClosable:!0});try{const s={headers:{Authorization:"Bearer ".concat(o.token)}},a={title:t,content:c,image:n},{data:i}=await f.a.post("/api/blog/post",a,s);"Ok"===i.state&&(e({title:"Success!",description:"Blog submitted successfully.",status:"success",position:"top-right",duration:5e3,isClosable:!0}),r.push("/admin/blog"))}catch(a){e({title:"Error Occured!",description:"the Same Blog Already Exists",status:"error",duration:5e3,isClosable:!0,position:"bottom-left"})}})(s),children:"Submit"})})]})]})})})]})})};var lt=()=>{const{id:e}=Object(N.useParams)(),t=Object(y.a)(),[s,c]=Object(a.useState)([]);return Object(a.useEffect)((()=>{const s=JSON.parse(localStorage.getItem("userInfo"));s&&(!0===s.isAdmin?(document.getElementById("mySidebar").style.display="none",document.getElementById("AdminSidebar").style.display="block"):(document.getElementById("mySidebar").style.display="block",document.getElementById("AdminSidebar").style.display="none"));(async()=>{try{const t={headers:{Authorization:"Bearer ".concat(s.token)}},a=await f.a.get("/api/blog/".concat(e),t);c(a.data)}catch(a){t({title:"Error Occured!",description:a.error,status:"error",duration:5e3,isClosable:!0,position:"top-right"})}})()}),[e,t]),Object(v.jsx)("div",{className:"container-fluid pt-1",id:"readBlog",style:{backgroundColor:"#f6f6fe",minHeight:"100vh"},children:Object(v.jsxs)("div",{className:"container",style:{marginTop:"75px"},children:[Object(v.jsxs)("div",{className:"position-relative d-flex align-items-center justify-content-center pb-2",children:[Object(v.jsx)("h1",{className:"display-1 text-uppercase text-white",style:{WebkitTextStroke:"1px #dee2e6",fontSize:"6rem"},children:"Blog"}),Object(v.jsx)("h1",{className:"position-absolute text-uppercase text-primary",style:{fontSize:"1.5rem"},children:"Read Blog"})]}),Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("div",{className:"col-lg-8 col-md-8 mb-5 mx-auto",children:Object(v.jsxs)("div",{className:"mb-4",children:[Object(v.jsx)("h1",{className:"font-weight-medium mb-4 text-center",style:{fontSize:"2.5rem"},children:s.title}),Object(v.jsx)("div",{className:"d-flex justify-content-center",children:Object(v.jsx)("img",{className:"img-fluid rounded w-100 mb-2",src:s.image,alt:"blog"})}),Object(v.jsxs)("p",{children:[Object(v.jsx)("span",{className:"firstCharacter",children:String(s.content).substring(0,1)}),String(s.content).substring(1)]})]})}),Object(v.jsx)("div",{className:"col-md-6 mx-auto",children:Object(v.jsx)(we.b,{to:"/blog",className:"btn btn-sm btn-outline-primary py-2 mb-3 w-100",children:"Back"})})]})]})})},rt=s(379);var ot=()=>Object(v.jsx)(rt.a,{animation:"border",role:"status",style:{width:"100px",height:"100px",margin:"auto",display:"block"}});var dt=()=>{const[e,t]=Object(a.useState)([]),[s,c]=Object(a.useState)(""),[i,n]=Object(a.useState)(""),[l,r]=Object(a.useState)(""),[o,d]=Object(a.useState)(""),[j,m]=Object(a.useState)(""),[b,h]=Object(a.useState)({preview:"",data:""}),[x,p]=Object(a.useState)(!1),[u,O]=Object(a.useState)(""),[g,S]=Object(a.useState)(""),[N,k]=Object(a.useState)(""),E=Object(y.a)(),w=JSON.parse(localStorage.getItem("userInfo"));Object(a.useEffect)((()=>{(async()=>{const s=JSON.parse(localStorage.getItem("userInfo"));s&&(!0===s.isAdmin?(document.getElementById("mySidebar").style.display="none",document.getElementById("AdminSidebar").style.display="block"):(document.getElementById("mySidebar").style.display="block",document.getElementById("AdminSidebar").style.display="none"));try{const a={headers:{Authorization:"Bearer ".concat(s.token)}},{data:i}=await f.a.get("/api/user/".concat(s._id),a);t(i),c(e.name),n(e.firstname),r(e.lastname),d(e.email),m(e.phone)}catch(a){}})()}),[e.email,e.name,e.lastname,e.firstname,e.phone]);return Object(v.jsx)("div",{className:"dashboard-container w-100",children:Object(v.jsxs)("div",{className:"dashboard-content-container",children:[Object(v.jsx)("div",{className:"pagetitle",children:Object(v.jsx)("h1",{children:"Profile"})}),Object(v.jsx)("section",{className:"section dashboard mt-4",children:Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("div",{className:"col-xl-4",children:Object(v.jsx)("div",{className:"card",children:Object(v.jsxs)("div",{className:"card-body profile-card pt-4 d-flex flex-column align-items-center",children:[Object(v.jsx)("img",{src:x?b.preview:e.pic,alt:"Profile",className:"rounded-circle mb-2"}),Object(v.jsx)("h1",{style:{fontSize:"24px"},className:"fw-bolder",children:e.name}),Object(v.jsxs)("div",{className:"social-links mt-2",children:[Object(v.jsx)(we.b,{className:"twitter mx-1 fs-5",to:"#",children:Object(v.jsx)("i",{className:"bi bi-twitter"})}),Object(v.jsx)(we.b,{className:"facebook mx-1 fs-5",to:"#",children:Object(v.jsx)("i",{className:"bi bi-facebook"})}),Object(v.jsx)(we.b,{className:"instagram mx-1 fs-5",to:"#",children:Object(v.jsx)("i",{className:"bi bi-instagram"})}),Object(v.jsx)(we.b,{className:"linkedin mx-1 fs-5",to:"#",children:Object(v.jsx)("i",{className:"bi bi-linkedin"})})]})]})})}),Object(v.jsx)("div",{className:"col-xl-8",children:Object(v.jsx)("div",{className:"card",children:Object(v.jsxs)("div",{className:"card-body pt-3",children:[Object(v.jsxs)("ul",{className:"nav nav-tabs nav-tabs-bordered",children:[Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsx)("button",{className:"nav-link active","data-bs-toggle":"tab","data-bs-target":"#profile-edit",children:"Edit Profile"})}),Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsx)("button",{className:"nav-link","data-bs-toggle":"tab","data-bs-target":"#profile-change-password",children:"Change Password"})})]}),Object(v.jsxs)("div",{className:"tab-content pt-2",children:[void 0!==e?Object(v.jsxs)("div",{className:"tab-pane fade show active profile-edit pt-3",id:"profile-edit",children:[Object(v.jsxs)("div",{className:"row mb-3",children:[Object(v.jsx)("label",{className:"col-md-4 col-lg-3 col-form-label",children:"Profile Image"}),Object(v.jsxs)("div",{className:"col-md-8 col-lg-9",children:[Object(v.jsx)("img",{src:x?b.preview:e.pic,alt:"Profile"}),Object(v.jsxs)("div",{className:"pt-2 mx-5",children:[Object(v.jsx)("button",{className:"btn btn-primary btn-sm",title:"Upload new profile image",onClick:()=>document.getElementById("imageFileSelect").click(),children:Object(v.jsx)("i",{className:"bi bi-upload"})}),Object(v.jsx)("button",{className:"btn btn-danger btn-sm",title:"Remove my profile image",onClick:e=>p(!1),children:Object(v.jsx)("i",{className:"bi bi-trash"})}),Object(v.jsx)("input",{id:"imageFileSelect",className:"form-class hidden",type:"file",onChange:e=>{const t={preview:URL.createObjectURL(e.target.files[0]),data:e.target.files[0]};h(t),p(!0)},hidden:!0})]})]})]}),Object(v.jsxs)("form",{children:[Object(v.jsxs)("div",{className:"row mb-3",children:[Object(v.jsx)("label",{className:"col-md-4 col-lg-3 col-form-label",children:"Name"}),Object(v.jsx)("div",{className:"col-md-8 col-lg-9",children:Object(v.jsx)("input",{name:"fullName",type:"text",className:"form-control",value:s,onChange:e=>c(e.target.value)})})]}),Object(v.jsxs)("div",{className:"row mb-3",children:[Object(v.jsx)("label",{className:"col-md-4 col-lg-3 col-form-label",children:"First Name"}),Object(v.jsx)("div",{className:"col-md-8 col-lg-9",children:Object(v.jsx)("input",{name:"fullName",type:"text",className:"form-control",value:i,onChange:e=>n(e.target.value)})})]}),Object(v.jsxs)("div",{className:"row mb-3",children:[Object(v.jsx)("label",{className:"col-md-4 col-lg-3 col-form-label",children:"Last Name"}),Object(v.jsx)("div",{className:"col-md-8 col-lg-9",children:Object(v.jsx)("input",{name:"fullName",type:"text",className:"form-control",value:l,onChange:e=>r(e.target.value)})})]}),Object(v.jsxs)("div",{className:"row mb-3",children:[Object(v.jsx)("label",{className:"col-md-4 col-lg-3 col-form-label",children:"Phone"}),Object(v.jsx)("div",{className:"col-md-8 col-lg-9",children:Object(v.jsx)("input",{name:"phone",type:"text",className:"form-control",value:j,onChange:e=>m(e.target.value)})})]}),Object(v.jsxs)("div",{className:"row mb-3",children:[Object(v.jsx)("label",{className:"col-md-4 col-lg-3 col-form-label",children:"Email"}),Object(v.jsx)("div",{className:"col-md-8 col-lg-9",children:Object(v.jsx)("input",{name:"email",type:"email",className:"form-control",value:o,onChange:e=>d(e.target.value)})})]}),Object(v.jsx)("div",{className:"text-center",children:Object(v.jsx)("button",{type:"submit",className:"btn btn-primary text-white fw-semibold",onClick:t=>(async t=>{t.preventDefault(),!s|!i|!l|!o|!j&&E({title:"Error Occured!",description:"Input Field values",status:"error",position:"top-right",duration:5e3,isClosable:!0}),O(e.pic);const a=new FormData;a.append("image",b.data);try{const t={headers:{Authorization:"Bearer ".concat(w.token)}};if(x){const c=await f.a.post("/api/upload",a,t),{data:n}=await f.a.put("/api/user/updateadmin",{_id:e._id,name:s,firstname:i,lastname:l,email:o,phone:j,pic:c.data.image},t);E({title:"Success!",description:"Updated Successfully!",status:"success",position:"top-right",duration:5e3,isClosable:!0}),localStorage.setItem("userInfo",JSON.stringify(n))}else{const{data:a}=await f.a.put("/api/user/updateadmin",{_id:e._id,name:s,firstname:i,lastname:l,email:o,phone:j,pic:u},t);E({title:"Success!",description:"Updated Successfully!",status:"success",position:"top-right",duration:5e3,isClosable:!0}),localStorage.setItem("userInfo",JSON.stringify(a))}}catch(c){E({title:"Error",description:c.err,status:"error",position:"top-right",duration:5e3,isClosable:!0})}})(t),children:"Update"})})]})]}):Object(v.jsx)(ot,{}),Object(v.jsx)("div",{className:"tab-pane fade pt-3",id:"profile-change-password",children:Object(v.jsxs)("form",{children:[Object(v.jsxs)("div",{className:"row mb-3",children:[Object(v.jsx)("label",{className:"col-md-4 col-lg-3 col-form-label",children:"New Password"}),Object(v.jsx)("div",{className:"col-md-8 col-lg-9",children:Object(v.jsx)("input",{name:"newpassword",type:"password",className:"form-control",value:g,onChange:e=>S(e.target.value)})})]}),Object(v.jsxs)("div",{className:"row mb-3",children:[Object(v.jsx)("label",{className:"col-md-4 col-lg-3 col-form-label",children:"Re-enter New Password"}),Object(v.jsx)("div",{className:"col-md-8 col-lg-9",children:Object(v.jsx)("input",{name:"renewpassword",type:"password",className:"form-control",value:N,onChange:e=>k(e.target.value)})})]}),Object(v.jsx)("div",{className:"text-center",children:Object(v.jsx)("button",{className:"btn btn-primary fw-semibold text-white",onClick:t=>(async t=>{if(t.preventDefault(),g!==N)E({title:"Error",description:"Not Match Password",status:"error",position:"top-right",duration:5e3,isClosable:!0});else try{const t={headers:{Authorization:"Bearer ".concat(w.token)}};await f.a.put("/api/user/updateadmin",{_id:e._id,newPassword:g},t),E({title:"Success!",description:"Updated Successfully!",status:"success",position:"top-right",duration:5e3,isClosable:!0})}catch(s){E({title:"Error",description:s.err,status:"error",position:"top-right",duration:5e3,isClosable:!0})}})(t),children:"Change Password"})})]})})]})]})})})]})})]})})};var jt=()=>{const[e,t]=Object(a.useState)(0),s=JSON.parse(localStorage.getItem("userInfo")),c=Object(N.useLocation)();return Object(a.useEffect)((()=>{!0===localStorage.getItem("isDarkMode")&&(document.documentElement.dataset.bsTheme="dark"),(async()=>{try{const e={headers:{Authorization:"Bearer ".concat(s.token)}},{data:a}=await f.a.post("/api/post/index",{sender:s._id},e);let c=[],i=0;a.message.forEach((e=>{e.reviews.forEach((t=>{t.noticed||(c.push({_id:e._id,title:e.title,sender:{_id:t.user._id,name:t.user.email},comment:t.comment,liked:t.liked}),i++)}))}));const n=(await f.a.post("/api/post/notified_posts",{sender:s._id},e)).data.message;t(i+n.length)}catch(e){}})()}),[]),Object(v.jsx)(v.Fragment,{children:"/"!==c.pathname&&"/chats"!==c.pathname&&Object(v.jsxs)("header",{id:"header",className:"header fixed-top d-flex align-items-center px-3 shadow-lg",children:[Object(v.jsx)("div",{id:"logo",className:"d-flex justify-content-between",children:Object(v.jsxs)(we.b,{to:s&&!0===s.isAdmin?"/admin/dashboard":"/capture",className:"logo d-flex align-items-center",children:[Object(v.jsx)("img",{src:A,alt:"logo",width:"70px",height:"60px",className:"fa fa-beat"}),Object(v.jsx)("h1",{className:"text-uppercase",style:{fontSize:"1.3rem",color:"#012970"},children:"travelbooth"})]})}),Object(v.jsx)("nav",{className:"header-nav ms-auto",children:Object(v.jsxs)("ul",{className:"d-flex align-items-center",children:[s&&!0!==s.isAdmin&&Object(v.jsx)("li",{className:"nav-item dropdown",children:Object(v.jsxs)(we.b,{className:"nav-link nav-icon",to:"/notifications",children:[Object(v.jsx)("i",{className:"fa bi bi-bell ".concat(e>0?"fa-shake":"")}),Object(v.jsx)("span",{className:"badge bg-primary badge-number",children:e})]})}),Object(v.jsxs)("li",{className:"nav-item dropdown pe-3",children:[Object(v.jsxs)(we.b,{className:"nav-link nav-profile d-flex align-items-center pe-0",to:"#","data-bs-toggle":"dropdown",children:[Object(v.jsx)("img",{src:s&&s.pic,alt:"Profile",className:"rounded-circle"}),Object(v.jsx)("span",{className:"d-none d-md-block dropdown-toggle ps-2",children:s&&s.firstname})]}),Object(v.jsxs)("ul",{className:"dropdown-menu dropdown-menu-end dropdown-menu-arrow profile",children:[Object(v.jsx)("li",{className:"dropdown-header",children:Object(v.jsx)("h6",{children:s&&s.name})}),Object(v.jsx)("li",{children:Object(v.jsx)("hr",{className:"dropdown-divider"})}),Object(v.jsx)("li",{children:Object(v.jsxs)(we.b,{className:"dropdown-item d-flex align-items-center",to:s&&!0===s.isAdmin?"/admin/profile":"/account",children:[Object(v.jsx)("i",{className:"bi bi-gear"}),Object(v.jsx)("span",{children:"Account"})]})}),Object(v.jsx)("li",{children:Object(v.jsx)("hr",{className:"dropdown-divider"})}),Object(v.jsx)("li",{children:Object(v.jsxs)("span",{onClick:()=>{localStorage.removeItem("userInfo"),window.location.href="/"},className:"dropdown-item d-flex align-items-center",children:[Object(v.jsx)("i",{className:"bi bi-box-arrow-right"}),Object(v.jsx)("span",{children:"Log Out"})]})})]})]})]})})]})})};s(333);var mt=()=>{const e=JSON.parse(localStorage.getItem("userInfo")),t=Object(N.useHistory)();Object(a.useEffect)((()=>{const e=document.getElementById("header"),t=document.getElementById("mySidebar"),s=document.getElementById("AdminSidebar"),a=document.getElementsByClassName("footer")[0];e&&(e.classList.add("hide"),e.classList.remove("d-flex"),t.classList.add("hide"),s.classList.add("hide"),a.classList.add("hide"))}));return console.log(e),Object(v.jsx)("div",{className:"notfound",children:Object(v.jsx)("div",{className:"row",children:Object(v.jsx)("div",{className:"col-md-12",children:Object(v.jsxs)("div",{className:"error-template",children:[Object(v.jsxs)("h2",{class:"d-flex justify-content-center align-items-center gap-2 mb-4",children:[Object(v.jsx)("span",{class:"display-1 fw-bold",children:"4"}),Object(v.jsx)("i",{class:"bi bi-exclamation-circle-fill text-danger display-4"}),Object(v.jsx)("span",{class:"display-1 fw-bold bsb-flip-h",children:"4"})]}),Object(v.jsx)("h3",{class:"h2 mb-2",children:"Oops! You're lost."}),Object(v.jsx)("p",{class:"mb-5",children:"The page you are looking for was not found."}),Object(v.jsx)("div",{className:"error-actions",children:Object(v.jsxs)("button",{onClick:()=>{!0===e.isAdmin?(t.push("/admin/dashboard"),window.location.reload()):(t.push("/capture"),window.location.reload())},className:"btn btn-info btn-lg text-white fw-semibold",children:[Object(v.jsx)("span",{className:"glyphicon glyphicon-home"}),"Back To Home"," "]})})]})})})})};var bt=()=>{const[e,t]=Object(a.useState)(0),[s,c]=Object(a.useState)([]),[i,n]=Object(a.useState)(!1),l=Object(y.a)(),r=JSON.parse(localStorage.getItem("userInfo"));Object(a.useEffect)((()=>{r&&(!0===r.isAdmin?(document.getElementById("mySidebar").style.display="none",document.getElementById("AdminSidebar").style.display="block"):(document.getElementById("mySidebar").style.display="block",document.getElementById("AdminSidebar").style.display="none"));(async()=>{const e=JSON.parse(localStorage.getItem("userInfo"));try{const s={headers:{Authorization:"Bearer ".concat(e.token)}},{data:a}=await f.a.get("/api/blog",s);t(a.length),c(a)}catch(s){}})()}),[r,i]);return Object(v.jsx)("div",{className:"dashboard-container w-100",children:Object(v.jsxs)("div",{className:"dashboard-content-container",style:{paddingTop:"100px"},children:[Object(v.jsx)("div",{className:"pagetitle mb-3",children:Object(v.jsx)("h1",{children:"Blogs"})}),Object(v.jsx)("section",{className:"section dashboard",children:Object(v.jsx)("div",{className:"row",children:Object(v.jsx)("div",{className:"col-12",children:Object(v.jsx)("div",{className:"card top-selling",children:Object(v.jsxs)("div",{className:"posts-card-body pb-0",children:[Object(v.jsx)("div",{className:"row",children:Object(v.jsxs)("div",{className:"d-flex justify-content-between px-5",children:[Object(v.jsxs)("h5",{className:"card-title p-3",children:["Blogs ",Object(v.jsxs)("span",{children:["| ",e]})]}),Object(v.jsx)("div",{className:"d-flex align-items-center",children:Object(v.jsxs)(we.b,{to:"/admin/blogpost",className:"btn btn-primary rounded text-white fw-semibold",children:[Object(v.jsx)("i",{className:"fa fa-plus"})," Add Blog"]})})]})}),Object(v.jsxs)("table",{className:"table table-borderless",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{scope:"col",children:"Preview"}),Object(v.jsx)("th",{scope:"col",children:"Title"}),Object(v.jsx)("th",{scope:"col",children:"content"}),Object(v.jsx)("th",{scope:"col"})]})}),Object(v.jsx)("tbody",{children:s.map(((e,t)=>Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{className:"td-image",children:Object(v.jsx)("img",{src:e.image,alt:""})}),Object(v.jsx)("td",{children:Object(v.jsx)("span",{className:"text-primary fw-bold",children:String(e.title).substring(0,20)})}),Object(v.jsxs)("td",{children:[String(e.content).substring(0,30),"..."]}),Object(v.jsx)("td",{children:Object(v.jsxs)("div",{className:"d-flex justify-content-center gap-3",children:[Object(v.jsx)(we.b,{className:"btn btn-sm btn-info text-white",to:"/admin/blogs/".concat(e._id),children:Object(v.jsx)("i",{className:"bi bi-pencil"})}),Object(v.jsx)("button",{className:"btn btn-sm btn-danger",onClick:t=>(async e=>{const t={headers:{Authorization:"Bearer ".concat(r.token)}};await f.a.delete("/api/blog/".concat(e),t).then((e=>{l({title:"Success!",description:"Deleted Successfully!",status:"success",position:"top-right",duration:5e3,isClosable:!0}),n(!i)}))})(e._id),children:Object(v.jsx)("i",{className:"bi bi-trash"})})]})})]},t)))})]})]})})})})})]})})};var ht=()=>{const{id:e}=Object(N.useParams)(),t=Object(y.a)(),[s,c]=Object(a.useState)(""),[i,n]=Object(a.useState)(""),[l,r]=Object(a.useState)(""),[o,d]=Object(a.useState)([]),[j,m]=Object(a.useState)(""),b=Object(N.useHistory)(),h=JSON.parse(localStorage.getItem("userInfo"));Object(a.useEffect)((()=>{h&&(!0===h.isAdmin?(document.getElementById("mySidebar").style.display="none",document.getElementById("AdminSidebar").style.display="block"):(document.getElementById("mySidebar").style.display="block",document.getElementById("AdminSidebar").style.display="none"));(async()=>{try{const t={headers:{Authorization:"Bearer ".concat(h.token)}},s=await f.a.get("/api/blog/".concat(e),t);d(s.data)}catch(s){t({title:"Error Occured!",description:s.error,status:"error",duration:5e3,isClosable:!0,position:"top-right"})}})(),c(o.title),n(o.content),m(o.image)}),[o.title,o.content,o.image]);return Object(v.jsx)("div",{className:"container-fluid pt-3",id:"contact",style:{backgroundColor:"#f6f6fe",minHeight:"100vh"},children:Object(v.jsxs)("div",{className:"container",style:{marginTop:"75px"},children:[Object(v.jsxs)("div",{className:"position-relative d-flex align-items-center justify-content-center pb-3",children:[Object(v.jsx)("h1",{className:"display-1 text-uppercase text-white",style:{WebkitTextStroke:"1px #dee2e6",fontSize:"7rem"},children:"Blogs"}),Object(v.jsx)("h1",{className:"position-absolute text-uppercase text-primary",style:{fontSize:"2.5rem"},children:"Edit Blog"})]}),Object(v.jsx)("div",{className:"row justify-content-center",children:Object(v.jsx)("div",{className:"col-lg-8",children:Object(v.jsxs)("div",{className:"contact-form text-center",children:[Object(v.jsx)("div",{id:"success"}),void 0===o?Object(v.jsx)(ot,{}):Object(v.jsxs)("form",{id:"contactForm",noValidate:"novalidate",children:[Object(v.jsx)("div",{className:"form-row",children:Object(v.jsxs)("div",{className:"control-group col-sm-12 mb-3",children:[Object(v.jsx)("input",{type:"text",value:s,onChange:e=>c(e.target.value),className:"form-control p-2 px-4",id:"title",placeholder:"Title",required:"required","data-validation-required-message":"Please enter a title"}),Object(v.jsx)("p",{className:"help-block text-danger"})]})}),Object(v.jsxs)("div",{className:"control-group mb-3",children:[Object(v.jsx)("input",{type:"file",onChange:async e=>{const s=new FormData;s.append("image",e.target.files[0]);try{const e={headers:{Authorization:"Bearer ".concat(h.token)}},a=await f.a.post("/api/upload",s,e);t({title:"Success!",description:a.message,status:"success",duration:5e3,isClosable:!0,position:"top-right"}),r(a.data.image)}catch(a){t({title:"Error Occured!",description:"Failed to Load the locations",status:"error",duration:5e3,isClosable:!0,position:"top-right"})}},className:"form-control p-2 px-4",id:"subject",placeholder:"Subject",required:"required","data-validation-required-message":"Please enter a subject"}),Object(v.jsx)("p",{className:"help-block text-danger"})]}),Object(v.jsxs)("div",{className:"control-group mb-3",children:[Object(v.jsx)("textarea",{className:"form-control py-3 px-4",rows:"7",placeholder:"Content",required:"required",value:i,onChange:e=>n(e.target.value),"data-validation-required-message":"Please enter blog contents"}),Object(v.jsx)("p",{className:"help-block text-danger"})]}),Object(v.jsx)("div",{children:Object(v.jsx)("button",{className:"btn btn-outline-primary w-100",onClick:async e=>{e.preventDefault();try{const e={headers:{Authorization:"Bearer ".concat(h.token)}},{data:a}=await f.a.put("/api/blog/".concat(o._id),{title:s,content:i,image:l},e);console.log(a),t({title:"Success!",description:"Updated Successfully!",status:"success",duration:5e3,isClosable:!0,position:"top-right"}),b.push("/admin/blog")}catch(a){t({title:"Error Occured!",description:"Failed updating",status:"error",duration:5e3,isClosable:!0,position:"top-right"})}},children:"Update"})})]})]})})})]})})};var xt=()=>{const{id:e}=Object(N.useParams)(),[t,s]=Object(a.useState)(""),[c,i]=Object(a.useState)(""),[n,l]=Object(a.useState)(!1),r=()=>l(!n),[o,d]=Object(a.useState)(!1),j=Object(y.a)(),[g,S]=Object(a.useState)(""),[k,E]=Object(a.useState)(""),w=Object(N.useHistory)();return Object(v.jsxs)(O.b,{spacing:"10px",children:[Object(v.jsxs)(b.a,{id:"newPassword",isRequired:!0,children:[Object(v.jsx)(h.a,{children:"New Password"}),Object(v.jsxs)(p.a,{size:"md",children:[Object(v.jsx)(x.a,{value:t,onChange:e=>s(e.target.value),type:n?"text":"password",placeholder:"Enter password"}),Object(v.jsx)(u.a,{width:"4.5rem",children:Object(v.jsx)(m.a,{h:"1.75rem",size:"sm",onClick:r,children:n?"Hide":"Show"})})]})]}),Object(v.jsxs)(b.a,{id:"confirmPassword",isRequired:!0,children:[Object(v.jsx)(h.a,{children:"Confirm Password"}),Object(v.jsxs)(p.a,{size:"md",children:[Object(v.jsx)(x.a,{value:c,onChange:e=>i(e.target.value),type:n?"text":"password",placeholder:"Enter confirmpassword"}),Object(v.jsx)(u.a,{width:"4.5rem",children:Object(v.jsx)(m.a,{h:"1.75rem",size:"sm",onClick:r,children:n?"Hide":"Show"})})]})]}),Object(v.jsx)(m.a,{colorScheme:"blue",width:"100%",style:{marginTop:15},onClick:async s=>{if(s.preventDefault(),t!==c)E("Passwords do not match");else try{d(!0),S(""),E("");const s=await f.a.post("/resetpassword/resetPassword",{password:t,resetToken:e});console.log(s),S(s.data.message),console.log(s.data.message),j({title:"Success",description:s.data.message,status:"success",duration:5e3,isClosable:!0,position:"bottom"})}catch(k){E(k.response.data.message),console.log(k),console.log(k.response.data.message),j({title:"Error Occured!",description:k.response.data.message,status:"error",isClosable:!0,position:"bottom"})}finally{d(!1),w.push("/")}},isLoading:o,children:"Reset Password"})]})};var pt=function(){return console.log(document.getElementsByClassName("footer")),Object(a.useEffect)((()=>{const e=JSON.parse(localStorage.getItem("userInfo")),t=document.getElementById("header");e&&!0===e.isAdmin?(document.getElementById("AdminSidebar").style.display="none",document.getElementById("mySidebar").style.display="none",t.classList.remove("d-flex"),t.classList.add("hide"),document.getElementsByClassName("footer")[0].style.display="none"):(document.getElementById("mySidebar").style.display="none",document.getElementById("AdminSidebar").style.display="none",t.classList.remove("d-flex"),t.classList.add("hide"),document.getElementsByClassName("footer")[0].style.display="none")}),[]),Object(v.jsxs)(l.a,{maxW:"xl",centerContent:!0,children:[Object(v.jsx)(r.a,{d:"flex",justifyContent:"center",p:3,w:"100%",m:"40px 0 15px 0",borderRadius:"lg",borderWidth:"1px",children:Object(v.jsx)(o.a,{fontSize:"5xl",fontFamily:"Work sans",fontWeight:"bold",color:"White",children:"Travelbooth"})}),Object(v.jsx)(d.a,{src:A,alt:"logo",w:"200px",h:"200px"}),Object(v.jsx)(r.a,{bg:"white",w:"100%",p:4,borderRadius:"lg",borderWidth:"1px",children:Object(v.jsxs)(j.e,{isFitted:!0,variant:"soft-rounded",children:[Object(v.jsx)(j.b,{mb:"1em",children:Object(v.jsx)(j.a,{children:"Reset Password"})}),Object(v.jsx)(j.d,{children:Object(v.jsx)(j.c,{children:Object(v.jsx)(xt,{})})})]})})]})};class ut extends c.a.Component{constructor(e){super(e),this.toggle=()=>{this.setState({isOpen:!this.state.isOpen})},this.state={isOpen:!1,isMobile:!0},this.previousWidth=-1}updateWidth(){const e=window.innerWidth,t=e<=250;t!==this.previousWidth<=250&&this.setState({isOpen:!t}),this.previousWidth=e}componentDidMount(){this.updateWidth(),window.addEventListener("resize",this.updateWidth.bind(this))}componentWillUnmount(){window.removeEventListener("resize",this.updateWidth.bind(this))}render(){return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"App",children:[Object(v.jsx)(jt,{}),Object(v.jsx)(Ge,{toggle:this.toggle,isOpen:this.state.isOpen}),Object(v.jsx)(Ue,{toggle:this.toggle,isOpen:this.state.isOpen}),Object(v.jsxs)("div",{className:"d-flex flex-column w-100",children:[Object(v.jsxs)(N.Switch,{children:[Object(v.jsx)(N.Route,{path:"/",component:I,exact:!0}),Object(v.jsx)(N.Route,{path:"/chats",component:fe}),Object(v.jsx)(N.Route,{path:"/capture",component:Ne}),Object(v.jsx)(N.Route,{path:"/posts",component:Be}),Object(v.jsx)(N.Route,{path:"/blog",component:at}),Object(v.jsx)(N.Route,{path:"/blogs/:id",component:lt}),Object(v.jsx)(N.Route,{path:"/post/:id",component:Xe}),Object(v.jsx)(N.Route,{path:"/post_edit/:id",component:He}),Object(v.jsx)(N.Route,{path:"/explore",component:De}),Object(v.jsx)(N.Route,{path:"/comment/:id",component:qe}),Object(v.jsx)(N.Route,{path:"/notifications",component:Te}),Object(v.jsx)(N.Route,{path:"/account",component:Fe}),Object(v.jsx)(N.Route,{path:"/aboutus",component:it}),Object(v.jsx)(N.Route,{path:"/resetPassword/:id",component:pt}),Object(v.jsx)(N.Route,{path:"/admin/dashboard",component:Ve}),Object(v.jsx)(N.Route,{path:"/admin/users",component:Ke}),Object(v.jsx)(N.Route,{path:"/admin/posts",component:_e}),Object(v.jsx)(N.Route,{path:"/admin/blog",component:bt}),Object(v.jsx)(N.Route,{path:"/admin/blogs/:id",component:ht}),Object(v.jsx)(N.Route,{path:"/admin/blogpost",component:nt}),Object(v.jsx)(N.Route,{path:"/admin/profile",component:dt}),Object(v.jsx)(N.Route,{path:"/admin/enquiry",component:Ze}),Object(v.jsx)(N.Route,{path:"/*",component:mt})]}),Object(v.jsx)(tt,{})]})]})})}}var Ot=ut;var gt=e=>{e&&e instanceof Function&&s.e(3).then(s.bind(null,398)).then((t=>{let{getCLS:s,getFID:a,getFCP:c,getLCP:i,getTTFB:n}=t;s(e),a(e),c(e),i(e),n(e)}))},ft=s(386);n.a.render(Object(v.jsx)(ft.a,{children:Object(v.jsx)(we.a,{children:Object(v.jsx)(w,{children:Object(v.jsx)(Ot,{})})})}),document.getElementById("root")),gt()}},[[334,1,2]]]);
//# sourceMappingURL=main.a5eb5b12.chunk.js.map